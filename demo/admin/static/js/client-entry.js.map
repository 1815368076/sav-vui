{"version":3,"file":"client-entry.js","sources":["../../node_modules/sav-flux/node_modules/sav-util/dist/sav-util.cjs.js","../../node_modules/sav-flux/dist/sav-flux.cjs.js","../../../../src/components/SavBtn.vue","../../../../src/components/SavInput.vue","../../../../src/components/SavText.vue","../../../../src/components/SavCheck.vue","../../../../src/components/SavRadio.vue","../../../../src/components/SavIcon.vue","../../../../src/components/SavField.vue","../../../../src/components/SavForm.vue","../../../../src/directives/focus.js","../../../../src/directives/index.js","../../../../src/index.js","../../views/VueFlux.js","../../views/Element/Element.vue","../../views/Element/ElementTabs.vue","../../views/Element/ElementButtons.vue","../../views/Home/Home.vue","../../views/Home/HomeIndex.vue","../../views/Page/Page.vue","../../views/Page/PageLogin.vue","../../views/Page/PageRegister.vue","../../views/routes.js","../../views/App.vue","../../node_modules/sav-schema/dist/sav-schema.js","../../node_modules/sav-util/dist/sav-util.cjs.js","../../node_modules/sav/dist/sav-client.js","../../contract/page/Element.js","../../contract/page/Home.js","../../contract/page/Page.js","../../contract/page/index.js","../../contract/schema/home.js","../../contract/schema/page.js","../../contract/schema/index.js","../../contract/index.js","../../views/client-entry.js"],"sourcesContent":["/*!\n * sav-util v0.0.7\n * (c) 2016 jetiny 86287344@qq.com\n * Release under the MIT License.\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction toStringType (val) {\n  return Object.prototype.toString.call(val).slice(8, -1)\n}\n\nvar isArray = Array.isArray;\n\nfunction isBoolean (arg) {\n  return typeof arg === 'boolean'\n}\n\nfunction isString (arg) {\n  return typeof arg === 'string'\n}\n\nfunction isFunction (arg) {\n  return typeof arg === 'function'\n}\n\nfunction isObject (arg) {\n  return (toStringType(arg) === 'Object') && (arg !== null)\n}\n\nfunction isNumber (arg) {\n  return typeof arg === 'number' && !isNaN(arg)\n}\n\nfunction isInteger (arg) {\n  return isNumber(arg) && parseInt(arg) === arg\n}\n\nfunction isUndefined (arg) {\n  return arg === undefined\n}\n\nfunction isNull (arg) {\n  return arg === null\n}\n\nfunction isNan (arg) {\n  return typeof arg === 'number' && isNaN(arg)\n}\n\nfunction isRegExp (arg) {\n  return toStringType(arg) === 'RegExp'\n}\n\nfunction isDate (arg) {\n  return toStringType(arg) === 'Date'\n}\n\nfunction typeValue (arg) {\n  if (isNan(arg)) {\n    return 'Nan'\n  }\n  switch (arg) {\n    case undefined:\n      return 'Undefined'\n    case null:\n      return 'Null'\n    default:\n      return toStringType(arg)\n  }\n}\n\nvar isInt = isInteger;\nfunction isUint (arg) {\n  return isInteger(arg) && arg >= 0\n}\n\nvar types = {\n  isBoolean: isBoolean,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isArray: isArray,\n  isFunction: isFunction,\n  isRegExp: isRegExp,\n  isDate: isDate,\n  isNull: isNull,\n  isUndefined: isUndefined,\n  isInt: isInt,\n  isUint: isUint\n};\n\nfunction defined (val) {\n  return val !== 'undefined'\n}\n\nvar probe = {\n  Map: defined(typeof Map),\n  Proxy: defined(typeof Proxy),\n  MessageChannel: defined(typeof MessageChannel),\n  localStorage: defined(typeof localStorage),\n  XMLHttpRequest: defined(typeof XMLHttpRequest),\n  MutationObserver: defined(typeof MutationObserver),\n  FormData: defined(typeof FormData),\n  window: defined(typeof window),\n  document: defined(typeof document)\n};\n\n/*\n * @Description      URL解析\n * @File             url.js\n * @Auth             jetiny@hfjy.com\n */\n\n// jsuri https://code.google.com/r/jonhwendell-jsuri/\n// https://username:password@www.test.com:8080/path/index.html?this=that&some=thing#content\nvar REKeys = ['source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'];\nvar URL_RE = /^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#/]*\\.[^?#/.]+(?:[?#]|$)))*\\/?)?([^?#/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nfunction parseUrl (str) {\n  var _uri = {};\n  var _m = URL_RE.exec(str || '');\n  var _i = REKeys.length;\n  while (_i--) {\n    _uri[REKeys[_i]] = _m[_i] || '';\n  }\n  return _uri\n}\n\nfunction stringifyUrl (uri) {\n  var str = '';\n  if (uri) {\n    if (uri.host) {\n      if (uri.protocol) { str += uri.protocol + ':'; }\n      str += '//';\n      if (uri.user) { str += uri.user + ':'; }\n      if (uri.password){ (str += uri.password + '@'); }\n      str += uri.host;\n      if (uri.port) { str += ':' + uri.port; }\n    }\n    str += uri.path || '';\n    if (uri.query) { str += '?' + uri.query; }\n    if (uri.anchor) { str += '#' + uri.anchor; }\n  }\n  return str\n}\n\nvar Url = {\n  parse: parseUrl,\n  stringify: stringifyUrl\n};\n\nvar _encode = encodeURIComponent;\nvar r20 = /%20/g;\nvar rbracket = /\\[]$/;\n\nfunction buildParams (prefix, obj, add) {\n  if (Array.isArray(obj)) {\n        // Serialize array item.\n    obj.forEach(function (v, i) {\n      if (rbracket.test(prefix)) {\n                // Treat each array item as a scalar.\n        add(prefix, v);\n      } else {\n                // Item is non-scalar (array or object), encode its numeric index.\n        buildParams(prefix + '[' + (typeof v === 'object' ? i : '') + ']', v, add);\n      }\n    });\n  } else if (isObject(obj)) {\n        // Serialize object item.\n    for (var name in obj) {\n      buildParams(prefix + '[' + name + ']', obj[name], add);\n    }\n  } else {\n        // Serialize scalar item.\n    add(prefix, obj);\n  }\n}\n\n// # http://stackoverflow.com/questions/1131630/the-param-inverse-function-in-javascript-jquery\n// a[b]=1&a[c]=2&d[]=3&d[]=4&d[2][e]=5 <=> { a: { b: 1, c: 2 }, d: [ 3, 4, { e: 5 } ] }\nfunction parseQuery (str, opts) {\n  if ( opts === void 0 ) opts = {};\n\n  var _querys = {};\n  decodeURIComponent(str || '')\n  .replace(/\\+/g, ' ')\n  // (optional no-capturing & )(key)=(value)\n  .replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, _name, _value) {\n    if (_name) {\n      var _path, _acc, _tmp, _ref;\n      (_path = []).unshift(_name = _name.replace(/\\[([^\\]]*)]/g, function ($0, _k) {\n        _path.push(_k);\n        return ''\n      }));\n      _ref = _querys;\n      for (var j = 0; j < _path.length - 1; j++) {\n        _acc = _path[j];\n        _tmp = _path[j + 1];\n        if (!_ref[_acc]) {\n          _ref[_acc] = ((_tmp === '') || (/^[0-9]+$/.test(_tmp))) ? [] : {};\n        }\n        _ref = _ref[_acc];\n      }\n      if (opts.boolval) { // first\n        if (_value === 'true') {\n          _value = true;\n        } else if (_value === 'false') {\n          _value = false;\n        }\n      } else if (opts.intval) { // skip \"true\" & \"false\"\n        if ((_tmp = parseInt(_value) === _value)) {\n          _value = _tmp;\n        }\n      }\n      if ((_acc = _path[_path.length - 1]) === '') {\n        _ref.push(_value);\n      } else {\n        _ref[_acc] = _value;\n      }\n    }\n  });\n  return _querys\n}\n\nfunction stringifyQuery (query) {\n    // # http://api.jquery.com/jQuery.param\n  var _add = function (key, value) {\n            /* jshint eqnull:true */\n    _str.push(_encode(key) + '=' + ((value === null || value === undefined) ? '' : _encode(value)));\n            // _str.push(( key ) + \"=\" +  (value == null ? \"\" : ( value )));\n  };\n  var _str = [];\n  query || (query = {});\n  for (var x in query) {\n    buildParams(x, query[x], _add);\n  }\n  return _str.join('&').replace(r20, '+')\n}\n\nvar Query = {\n  parse: parseQuery,\n  stringify: stringifyQuery\n};\n\nfunction extend () {\n  var arguments$1 = arguments;\n\n    // form jQuery & remove this\n  var options, name, src, copy, copyIsArray, clone;\n  var target = arguments[0] || {};\n  var i = 1;\n  var length = arguments.length;\n  var deep = false;\n  if (isBoolean(target)) {\n    deep = target;\n    target = arguments[i] || {};\n    i++;\n  }\n  if (typeof target !== 'object' && !isFunction(target)) {\n    target = {};\n  }\n  for (; i < length; i++) {\n    options = arguments$1[i];\n        /* jshint eqnull:true */\n    if (options != null) {\n      for (name in options) {\n        src = target[name];\n        copy = options[name];\n        if (target !== copy) {\n          if (deep && copy && (isObject(copy) || (copyIsArray = isArray(copy)))) {\n            if (copyIsArray) {\n              copyIsArray = false;\n              clone = src && isArray(src) ? src : [];\n            } else {\n              clone = src && isObject(src) ? src : {};\n            }\n            target[name] = extend(deep, clone, copy);\n          } else {\n            target[name] = copy;\n          }\n        }\n      }\n    }\n  }\n  return target\n}\n\nfunction clone (val) {\n  if (isArray(val)) {\n    return extend(true, [], val)\n  } else if (isObject(val)) {\n    return extend(true, {}, val)\n  }\n  return extend(true, [], [val])[0]\n}\n\n/**\n * 对象或数组遍历\n * @param  {Array|Object} obj      要遍历的对象\n * @param  {Function} iterator 遍历函数，统一遵循值在前的模式\n * @param  {Mixed} context  上下文对象\n * @return {Mixed}          返回要遍历的对象\n *\n * @example\n * each(['a','b'], function(val, key){\n *     if (val == 'a') {\n *         console.log(val);\n *         return false;\n *     }\n * });\n */\nfunction each (obj, iterator, context) {\n  if (obj) {\n    var _length = obj.length;\n    var _key;\n    if (_length === +_length) { // array like\n      for (_key = 0; _key < _length; _key++) {\n        if (iterator.call(context, obj[_key], _key) === false) {\n          return obj\n        }\n      }\n    } else { // object\n      for (_key in obj) {\n        if (obj.hasOwnProperty(_key)) {\n          if (iterator.call(context, obj[_key], _key) === false) {\n            return obj\n          }\n        }\n      }\n    }\n  }\n  return obj\n}\n\nfunction unique (arr) {\n  if (!Array.isArray(arr)) {\n    throw new TypeError('array-unique expects an array.')\n  }\n  var len = arr.length;\n  var i = -1;\n  while (i++ < len) {\n    var j = i + 1;\n    for (; j < arr.length; ++j) {\n      if (arr[i] === arr[j]) {\n        arr.splice(j--, 1);\n      }\n    }\n  }\n  return arr\n}\n\nfunction isPromiseLike (obj) {\n  return obj && obj.then\n}\n\nfunction uuid () {\n  return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4()\n}\n\nfunction guid () {\n  return new Date().getTime().toString(32) + Math.floor(Math.random() * 10000000000).toString(32) + s4()\n}\n\nfunction s4 () {\n  return Math.floor((1 + Math.random()) * 0x10000)\n        .toString(16)\n        .substring(1)\n}\n\nfunction inherits (ctor, superCtor, useSuper) {\n  Object.setPrototypeOf(ctor.prototype, superCtor.prototype);\n    // same as\n    // ctor.prototype = new superCtor;\n    // ctor.prototype.constructor = superCtor;\n\n    // ctor.prototype.name = 'ctor';\n  if (useSuper) {\n    ctor.super_ = superCtor;\n  }\n  return ctor\n}\n\nfunction prop (target, key, value) {\n  Object.defineProperty(target, key, {value: value});\n}\n\nfunction strRepeat (s, n) {\n  return new Array(Math.max(n || 0, 0) + 1).join(s)\n}\n\nfunction noop () {\n\n}\n\nfunction splitEach (str, callback, chr, context) {\n  return str.split(chr || ' ').forEach(callback, context)\n}\n\nfunction proxy (fn, context) {\n  return function () {\n    fn.apply(context, arguments);\n  }\n}\n\nfunction formatDate (fmt, date) {\n  if (!fmt) { fmt = 'yyyy-MM-dd'; }\n  if (!date) {\n    date = new Date();\n  } else {\n    date = new Date(date);\n  }\n  var o = {\n    'M+': date.getMonth() + 1, // 月份\n    'd+': date.getDate(), // 日\n    'h+': date.getHours(), // 小时\n    'm+': date.getMinutes(), // 分\n    's+': date.getSeconds(), // 秒\n    'q+': Math.floor((date.getMonth() + 3) / 3), // 季度\n    'S': date.getMilliseconds() // 毫秒\n  };\n  if (/(y+)/.test(fmt)) {\n    fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\n  }\n  for (var k in o) {\n    if (new RegExp('(' + k + ')').test(fmt)) {\n      fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? (o[k]) : (('00' + o[k]).substr(('' + o[k]).length)));\n    }\n  }\n  return fmt\n}\n\nfunction bindEvent (target) {\n  var _events = {};\n  prop(target, 'on', function (event, fn) {\n    (_events[event] || (_events[event] = [])).push(fn);\n  });\n\n  prop(target, 'off', function (event, fn) {\n    if (_events[event]) {\n      var list = _events[event];\n      if (fn) {\n        var pos = list.indexOf(fn);\n        if (pos !== -1) {\n          list.splice(pos, 1);\n        }\n      } else {\n        delete _events[event];\n      }\n    }\n  });\n\n  prop(target, 'once', function (event, fn) {\n    var once = function () {\n      var args = [], len = arguments.length;\n      while ( len-- ) args[ len ] = arguments[ len ];\n\n      target.off(event, fn);\n      fn.apply(void 0, args);\n    };\n    target.on(event, once);\n  });\n\n  prop(target, 'subscribe', function (event, fn) {\n    target.on(event, fn);\n    return function () {\n      target.off(event, fn);\n    }\n  });\n\n  prop(target, 'emit', function (event) {\n    var args = [], len = arguments.length - 1;\n    while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n    if (_events[event]) {\n      var list = _events[event].slice();\n      var fn;\n      while ((fn = list.shift())) {\n        fn.apply(void 0, args);\n      }\n    }\n  });\n}\n\nvar PROMISE = Promise;\nvar promise = {\n  resolve: PROMISE.resolve.bind(PROMISE),\n  reject: PROMISE.reject.bind(PROMISE),\n  all: PROMISE.all.bind(PROMISE),\n  then: function (fn) {\n    return new PROMISE(fn)\n  }\n};\n\n/**\n * ajax 方法\n * @param  {Object}   opts 请求对象\n * {\n *     method:\"GET\",\n *     dataType:\"JSON\",\n *     headers:{},\n *     url:\"\",\n *     data:{},\n * }\n * @param  {Function} next 回调\n * @return {XMLHttpRequest}        xhr对象\n */\nfunction ajax (opts, next) {\n  var method = (opts.method || 'GET').toUpperCase();\n  var dataType = (opts.dataType || 'JSON').toUpperCase();\n  var timeout = opts.timeout;\n  /* global XMLHttpRequest */\n  var req = new XMLHttpRequest();\n  var data = null;\n  var isPost = method === 'POST';\n  var isGet = method === 'GET';\n  var isFormData = false;\n  var emit = function (err, data, headers) {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n    req.onload = req.onreadystatechange = req.onerror = null;\n    if (next) {\n      var tmp = next;\n      next = null;\n      tmp(err, data, headers);\n    }\n  };\n  if (isGet) {\n    if (opts.data) {\n      var u = parseUrl(opts.url);\n      var q = parseQuery(u.query);\n      for (var x in opts.data) {\n        q[x] = opts.data[x];\n      }\n      u.query = stringifyQuery(q);\n      opts.url = stringifyUrl(u);\n      opts.data = null;\n    }\n  } else if (isPost) {\n    data = opts.data;\n    /* global FormData */\n    if (probe.FormData) {\n      isFormData = data instanceof FormData;\n      if (!isFormData) {\n        data = stringifyQuery(data);\n      }\n    }\n  }\n  if (timeout) {\n    timeout = setTimeout(function () {\n      req.abort();\n      emit(new Error('error_timeout'));\n    }, timeout);\n  }\n  try {\n    opts.xhr && opts.xhr(req);\n    if (dataType === 'BINARY') {\n      req.responseType = 'arraybuffer';\n    }\n    req.open(method, opts.url, true);\n    if (opts.headers) {\n      for (var x$1 in opts.headers) {\n        req.setRequestHeader(x$1, opts.headers[x$1]);\n      }\n    }\n    if (isPost && !isFormData) {\n      req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    if (opts.headerOnly) {\n      req.onreadystatechange = function () {\n                // console.log('state', req.readyState, req);\n        if (req.readyState === 2) { // HEADERS_RECEIVED\n          var headers = parseHeaders(req.getAllResponseHeaders(), opts.camelHeaders);\n          req.abort();\n          emit(null, undefined, headers);\n        }\n      };\n    }\n    req.onload = function () {\n            // if(req.readyState != 4) return;\n      if ([\n        200,\n        304,\n        206,\n        0\n      ].indexOf(req.status) === -1) { // error\n        emit(new Error('error_status_' + req.status));\n      } else {\n        var data = req.response;\n        try {\n          if (dataType === 'JSON') {\n            data = JSON.parse(req.responseText);\n          } else if (dataType === 'XML') {\n            data = req.responseXML;\n          } else if (dataType === 'TEXT') {\n            data = req.responseText;\n          } else if (dataType === 'BINARY') {\n            var arrayBuffer = new Uint8Array(data);\n            var str = '';\n            for (var i = 0; i < arrayBuffer.length; i++) {\n              str += String.fromCharCode(arrayBuffer[i]);\n            }\n            data = str;\n          }\n        } catch (err) {\n          return emit(err)\n        }\n        emit(null, data, parseHeaders(req.getAllResponseHeaders(), opts.camelHeaders));\n      }\n    };\n    req.onerror = function (e) {\n      emit(new Error('error_network'));\n    };\n        // 进度\n    if (opts.onprogress && !opts.headerOnly) {\n      req.onloadend = req.onprogress = function (e) {\n        var info = {\n          total: e.total,\n          loaded: e.loaded,\n          percent: e.total ? Math.trunc(100 * e.loaded / e.total) : 0\n        };\n        if (e.type === 'loadend') {\n          info.percent = 100;\n        } else if (e.total === e.loaded) {\n          return\n        }\n        if (e.total < e.loaded) {\n          info.total = info.loaded;\n        }\n        if (info.percent === 0) {\n          return\n        }\n        opts.onprogress(info);\n      };\n    }\n    req.send(data);\n  } catch (e) {\n    emit(e);\n  }\n  return req\n}\n\nfunction parseHeaders (str, camelHeaders) {\n  var ret = {};\n  str.trim().split('\\n').forEach(function (key) {\n    key = key.replace(/\\r/g, '');\n    var arr = key.split(': ');\n    var name = arr.shift().toLowerCase();\n    ret[camelHeaders ? camelCase(name) : name] = arr.shift();\n  });\n  return ret\n}\n\nfunction camelCase (s) {\n  return s.replace(/-(.)/g, function (a, $1) {\n    return $1.toUpperCase()\n  })\n}\n\nexports.isArray = isArray;\nexports.isBoolean = isBoolean;\nexports.isString = isString;\nexports.isFunction = isFunction;\nexports.isObject = isObject;\nexports.isNumber = isNumber;\nexports.isInteger = isInteger;\nexports.isUndefined = isUndefined;\nexports.isNull = isNull;\nexports.isNan = isNan;\nexports.isRegExp = isRegExp;\nexports.isDate = isDate;\nexports.typeValue = typeValue;\nexports.isInt = isInt;\nexports.isUint = isUint;\nexports.types = types;\nexports.probe = probe;\nexports.parseUrl = parseUrl;\nexports.stringifyUrl = stringifyUrl;\nexports.Url = Url;\nexports.parseQuery = parseQuery;\nexports.stringifyQuery = stringifyQuery;\nexports.Query = Query;\nexports.clone = clone;\nexports.each = each;\nexports.extend = extend;\nexports.bindEvent = bindEvent;\nexports.unique = unique;\nexports.isPromiseLike = isPromiseLike;\nexports.uuid = uuid;\nexports.guid = guid;\nexports.inherits = inherits;\nexports.prop = prop;\nexports.strRepeat = strRepeat;\nexports.noop = noop;\nexports.splitEach = splitEach;\nexports.proxy = proxy;\nexports.formatDate = formatDate;\nexports.promise = promise;\nexports.ajax = ajax;\n","/*!\n * sav-flux v0.0.16\n * (c) 2017 jetiny 86287344@qq.com\n * Release under the MIT License.\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar savUtil = require('sav-util');\n\nfunction Flux (opts) {\n  if ( opts === void 0 ) opts = {strict: true};\n\n  var flux = this;\n  var prop = initProp(flux);\n  prop('flux', flux);\n  prop('prop', prop);\n  prop('mutations', {});\n  prop('actions', {});\n  prop('proxys', {});\n  prop('opts', opts);\n  initUse(flux)([initUtil, savUtil.bindEvent, initPromise, initCloneThen,\n    initState, initCommit, initDispatch, initProxy,\n    initDeclare]);\n}\n\nfunction initProp (flux) {\n  var prop = function (key, value, opts) {\n    if ( opts === void 0 ) opts = {};\n\n    opts.value = value;\n    Object.defineProperty(flux, key, opts);\n  };\n  prop.get = function (key, value, opts) {\n    if ( opts === void 0 ) opts = {};\n\n    opts.get = value;\n    Object.defineProperty(flux, key, opts);\n  };\n  return prop\n}\n\nfunction initUse (ref) {\n  var flux = ref.flux;\n  var prop = ref.prop;\n\n  var use = function (plugin, opts) {\n    if (Array.isArray(plugin)) {\n      return plugin.forEach(function (plugin) {\n        flux.use(plugin, opts);\n      })\n    }\n    plugin(flux, opts);\n  };\n  prop('use', use);\n  return use\n}\n\nfunction initUtil (ref) {\n  var prop = ref.prop;\n  var opts = ref.opts;\n\n  prop('clone', savUtil.clone);\n  prop('extend', savUtil.extend);\n  prop('opt', function (name, defaultVal) {\n    if ( defaultVal === void 0 ) defaultVal = null;\n\n    return name in opts ? opts[name] : defaultVal\n  });\n}\n\nfunction initState (ref) {\n  var prop = ref.prop;\n  var emit = ref.emit;\n  var cloneThen = ref.cloneThen;\n  var clone$$1 = ref.clone;\n  var resolve = ref.resolve;\n\n  var state = {};\n  prop.get('state', function () { return state; }, {\n    set: function set () {\n      throw new Error('[flux] Use flux.replaceState() to explicit replace store state.')\n    }\n  });\n  prop('getState', function () { return clone$$1(state); });\n\n  prop('replaceState', function (newState) {\n    var stateStr = JSON.stringify(newState);\n    newState = JSON.parse(stateStr);\n    for (var x in state) {\n      delete state[x];\n    }\n    for (var x$1 in newState) {\n      state[x$1] = newState[x$1];\n    }\n    return Promise.resolve(JSON.parse(stateStr)).then(function (cloneState) {\n      emit('replace', cloneState);\n      return cloneState\n    })\n  });\n\n  prop('updateState', function (changedState, slice) {\n    if (typeof changedState !== 'object') {\n      throw new Error('[flux] updateState require new state as object')\n    }\n    if (changedState !== state) {\n      Object.keys(changedState).map(function (key) {\n        state[key] = changedState[key];\n      });\n    }\n    if (!slice) {\n      return cloneThen(changedState).then(function (cloneState) {\n        emit('update', cloneState);\n        return cloneState\n      })\n    }\n    return resolve()\n  });\n}\n\nfunction initCommit (ref) {\n  var prop = ref.prop;\n  var flux = ref.flux;\n  var updateState = ref.updateState;\n  var resolve = ref.resolve;\n\n  var commit = function (type, payload) {\n    var mutations = flux.mutations;\n    if (typeof type === 'object') {\n      payload = type;\n      type = type.type;\n    }\n    var entry = mutations[type];\n    if (!entry) {\n      throw new Error('[flux] unknown mutation : ' + type)\n    }\n    var state = flux.state;\n    var ret = entry(flux, payload);\n    var update = function (ret) {\n      if (ret) {\n        if (ret === state) {\n          throw new Error('[flux] commit require new object rather than old state')\n        }\n        if (typeof ret !== 'object') {\n          throw new Error('[flux] commit require new object')\n        }\n        return updateState(ret)\n      }\n      return resolve()\n    };\n    if (savUtil.isPromiseLike(ret)) {\n      return ret.then(update)\n    } else {\n      return update(ret)\n    }\n  };\n  prop('commit', flux.opts.noProxy ? commit : proxyApi(commit));\n}\n\nfunction initDispatch (ref) {\n  var prop = ref.prop;\n  var flux = ref.flux;\n  var commit = ref.commit;\n  var resolve = ref.resolve;\n  var reject = ref.reject;\n  var opts = ref.opts;\n  var cloneThen = ref.cloneThen;\n\n  var dispatch = function (action, payload) {\n    var actions = flux.actions;\n    var mutations = flux.mutations;\n    var proxys = flux.proxys;\n    var entry = action in actions && actions[action] ||\n      action in mutations && function (_, payload) {\n        return commit(action, payload)\n      };\n    if (!entry && (proxys[action])) {\n      entry = proxys[action];\n    }\n    if (!entry) {\n      return reject('[flux] unknown action : ' + action)\n    }\n    var err, ret;\n    try {\n      ret = entry(flux, payload);\n    } catch (e) {\n      err = e;\n    }\n    if (err) {\n      return reject(err)\n    }\n    if (!savUtil.isPromiseLike(ret)) {\n      ret = resolve(ret);\n    }\n        // make copy\n    return opts.strict ? ret.then(function (data) {\n      if (Array.isArray(data) || typeof data === 'object') {\n        if (data.__clone) {\n          return resolve(data)\n        }\n        return cloneThen(data).then(function (newData) {\n          Object.defineProperty(newData, '__clone', {value: true});\n          return resolve(newData)\n        })\n      }\n      return resolve(data)\n    }) : ret\n  };\n  prop('dispatch', flux.opts.noProxy ? dispatch : proxyApi(dispatch));\n}\n\nfunction initProxy (ref) {\n  var prop = ref.prop;\n  var proxys = ref.proxys;\n\n  prop('proxy', function (name, value) {\n    if (typeof name === 'object') { // batch mode\n      for (var x in name) {\n        if (value === null) {\n          delete proxys[x];\n        } else {\n          proxys[x] = name[x];\n        }\n      }\n    } else { // once mode\n      if (value === null) {\n        delete proxys[name];\n      } else {\n        proxys[name] = value;\n      }\n    }\n  });\n}\n\nfunction initDeclare (ref) {\n  var prop = ref.prop;\n  var flux = ref.flux;\n  var emit = ref.emit;\n  var commit = ref.commit;\n  var dispatch = ref.dispatch;\n  var updateState = ref.updateState;\n\n  var declare = function (mod) {\n    if (!mod) {\n      return\n    }\n    if (Array.isArray(mod)) {\n      return mod.forEach(declare)\n    }\n    if (mod.mutations) {\n      for (var mutation in mod.mutations) {\n        if (flux.mutations[mutation]) {\n          throw new Error((\"[flux] mutation exists: \" + mutation))\n        }\n        flux.mutations[mutation] = mod.mutations[mutation];\n        if (flux.opts.noProxy || !savUtil.probe.Proxy) {\n          proxyFunction(commit, mutation);\n          proxyFunction(dispatch, mutation);\n        }\n      }\n    }\n    // if (mod.proxys) {\n    //   for(let action in mod.proxys) {\n    //     flux.proxys[action] = mod.proxys[action]\n    //   }\n    // }\n    if (mod.actions) {\n      for (var action in mod.actions) {\n        if (flux.actions[action]) {\n          throw new Error((\"[flux] action exists: \" + action))\n        }\n        flux.actions[action] = mod.actions[action];\n        if (flux.opts.noProxy || !savUtil.probe.Proxy) {\n          proxyFunction(dispatch, action);\n        }\n      }\n    }\n    if (mod.state) {\n      var states = flux.state;\n      for (var state in mod.state) {\n        if (state in states) {\n          throw new Error((\"[flux] state exists: \" + state))\n        }\n      }\n      updateState(mod.state, true);\n    }\n    emit('declare', mod);\n  };\n  prop('declare', declare);\n}\n\nfunction proxyFunction (target, name) {\n  target[name] = function (payload) {\n    return target(name, payload)\n  };\n}\n\nfunction proxyApi (entry) {\n  if (savUtil.probe.Proxy) {\n    return new Proxy(entry, {\n      get: function get (target, name) {\n        return function (payload) {\n          return entry(name, payload)\n        }\n      }\n    })\n  }\n  return entry\n}\n\nfunction initPromise (ref) {\n  var prop = ref.prop;\n\n  var PROMISE = Promise;\n  prop('resolve', PROMISE.resolve.bind(PROMISE));\n  prop('reject', PROMISE.reject.bind(PROMISE));\n  prop('all', PROMISE.all.bind(PROMISE));\n  prop('then', function (fn) {\n    return new PROMISE(fn)\n  });\n}\n\nfunction initCloneThen (ref) {\n  var prop = ref.prop;\n  var clone$$1 = ref.clone;\n  var resolve = ref.resolve;\n  var then = ref.then;\n\n  if (!savUtil.probe.MessageChannel) {\n    prop('cloneThen', function (value) {\n      return resolve().then(function () { return resolve(clone$$1(value)); })\n    });\n    return\n  }\n  /* global MessageChannel */\n  var channel = new MessageChannel();\n  var maps = {};\n  var idx = 0;\n  var port2 = channel.port2;\n  port2.start();\n  port2.onmessage = function (ref) {\n    var ref_data = ref.data;\n    var key = ref_data.key;\n    var value = ref_data.value;\n\n    var resolve = maps[key];\n    resolve(value);\n    delete maps[key];\n  };\n  prop('cloneThen', function (value) {\n    return new Promise(function (resolve) {\n      var key = idx++;\n      maps[key] = resolve;\n      try {\n        channel.port1.postMessage({key: key, value: value});\n      } catch (err) {\n        console.error('cloneThen.postMessage', err);\n        delete maps[key];\n        try {\n          value = JSON.parse(JSON.stringify(value));\n        } catch (err) {\n          console.error('cloneThen.JSON', err);\n          value = clone$$1(value);\n        }\n        return then(function () { return resolve(value); })\n      }\n    })\n  });\n}\n\nfunction resetStoreVM (Vue, flux, vaf, state) {\n  var oldVm = vaf.vm;\n  if (oldVm) {\n    flux.off('update', vaf.watch);\n  }\n  var silent = Vue.config.silent;\n  Vue.config.silent = true;\n  var vm = vaf.vm = new Vue({ data: {state: state} });\n  flux.on('update', vaf.watch = function (newState) {\n    if (isVmGetterMode) {\n      var updates = [];\n      var loop = function ( key ) {\n        if (key in vm.state) {\n          vm.state[key] = newState[key];\n        } else { // dynamic computed methods\n          Vue.util.defineReactive(vm.state, key, newState[key]);\n          if (vmGetterMaps[key]) {\n            vmGetterMaps[key].forEach(function (vmIt) {\n              if (vmIt._computedWatchers && vmIt._computedWatchers[key]) {\n                updates.indexOf(vmIt) === -1 && updates.push(vmIt);\n                vmIt._computedWatchers[key].update();\n              }\n            });\n          }\n        }\n      };\n\n      for (var key in newState) loop( key );\n      updates.forEach(function (vm) { return vm.$forceUpdate(); });\n    } else { // old version use mapGetters\n      for (var key$1 in newState) {\n        vm.state[key$1] = newState[key$1];\n      }\n    }\n  });\n  Vue.config.silent = silent;\n  if (oldVm) {\n    oldVm.state = null;\n    Vue.nextTick(function () { return oldVm.$destroy(); });\n  }\n}\n\nvar Vue;\n\nfunction FluxVue (ref) {\n  var flux = ref.flux;\n  var mixinActions = ref.mixinActions; if ( mixinActions === void 0 ) mixinActions = false;\n  var injects = ref.injects; if ( injects === void 0 ) injects = [];\n\n  var vaf = {\n    dispatch: flux.dispatch,\n    proxy: flux.proxy\n  };\n  injects.forEach(function (key) {\n    vaf[key] = flux[key];\n  });\n  resetStoreVM(Vue, flux, vaf, flux.getState());\n  flux.on('replace', function (state) {\n    resetStoreVM(Vue, flux, vaf, state);\n  });\n  if (mixinActions) {\n    Vue.mixin({\n      methods: mapActions(savUtil.unique(\n        Object.keys(flux.mutations).concat(Object.keys(flux.actions))\n      ))\n    });\n  }\n  Vue.mixin({\n    methods: {\n      dispatch: function dispatch (method, payload) {\n        return vaf.dispatch(method, payload)\n      }\n    }\n  });\n  return vaf\n}\n\nvar vmGetterMaps = {};\nvar isVmGetterMode = false;\n\nfunction registerVmGetters (vm, getters) {\n  isVmGetterMode || (isVmGetterMode = true);\n  getters = vm._getters = Object.keys(getters);\n  getters.forEach(function (key) {\n    var arr = vmGetterMaps[key] || (vmGetterMaps[key] = []);\n    arr.push(vm);\n  });\n}\n\nfunction destroyVmGetters (vm) {\n  if (vm._getters) {\n    vm._getters.forEach(function (key) {\n      if (vmGetterMaps[key]) {\n        var arr = vmGetterMaps[key];\n        var pos = arr.indexOf(vm);\n        if (pos >= -1) {\n          arr.splice(pos, 1);\n        }\n      }\n    });\n  }\n}\n\nFluxVue.install = function install (vue) {\n  Vue = vue;\n  Vue.mixin({\n    beforeCreate: function beforeCreate () {\n      var this$1 = this;\n\n      var options = this.$options;\n      if (options.vaf) {\n        this.$flux = options.vaf;\n      } else if (options.parent && options.parent.$flux) {\n        this.$flux = options.parent.$flux;\n      }\n      var proxys = options.proxys;\n      var methods = options.methods;\n      var actions = options.actions;\n      var getters = options.getters;\n      var computed = options.computed;\n      if (this.$flux) {\n        if (actions) {\n          methods || (methods = options.methods = {});\n          Object.assign(methods, mapActions(actions));\n        }\n        if (getters) {\n          computed || (computed = options.computed = {});\n          var getterMaps = mapGetters(getters);\n          registerVmGetters(this, getterMaps);\n          Object.assign(computed, getterMaps);\n        }\n        if (proxys) {\n          var maps = this.__vafMaps = {};\n          Object.keys(proxys).map(function (key) {\n            maps[key] = (typeof proxys[key] === 'function' ? proxys[key] : methods[proxys[key]]).bind(this$1);\n          });\n          this.$flux.proxy(maps);\n        }\n      }\n    },\n    beforeDestroy: function beforeDestroy () {\n      var options = this.$options;\n      var proxys = options.proxys;\n      if (proxys && this.$flux && this.__vafMaps) {\n        this.$flux.proxy(this.__vafMaps, null);\n      }\n      if (isVmGetterMode) {\n        destroyVmGetters(this);\n      }\n      if (this.$flux) {\n        delete this.$flux;\n      }\n    }\n  });\n};\n\n// 后续不建议使用\nfunction mapGetters (getters) {\n  var res = {};\n  normalizeMap(getters).forEach(function (ref) {\n    var key = ref.key;\n    var val = ref.val;\n    res[key] = savUtil.isFunction(val) ? function mappedGetter () { // function(state){}\n      return val.call(this, this.$flux.vm.state)\n    } : function mappedGetter () {\n      return this.$flux.vm.state[val]\n    };\n  });\n  return res\n}\n\nfunction mapActions (actions) {\n  var res = {};\n  normalizeMap(actions).forEach(function (ref) {\n    var key = ref.key;\n    var val = ref.val;\n    res[key] = function mappedAction (payload) {\n      if (!this.$flux) {\n        var message = \"can not call action \" + key + \" without flux\";\n        return Promise.reject(new Error(message))\n      }\n      return this.$flux.dispatch(val, payload)\n    };\n  });\n  return res\n}\n\nfunction normalizeMap (map) {\n  return Array.isArray(map) ? map.map(function (key) {\n    return {\n      key: key,\n      val: key\n    }\n  }) : Object.keys(map).map(function (key) {\n    return {\n      key: key,\n      val: map[key]\n    }\n  })\n}\n\nvar FluxRedux = function FluxRedux (ref) {\n  var this$1 = this;\n  var flux = ref.flux;\n\n  this.flux = flux;\n  this.dispatch = flux.dispatch;\n  this.state = flux.getState();\n  flux.on('update', this.watchUpdate = function (newState) {\n    this$1.state = Object.assign({}, this$1.state, newState);\n    flux.emit('redux_change');\n  });\n  flux.on('replace', this.watchReplace = function (newState) {\n    this$1.state = newState;\n    flux.emit('redux_change');\n  });\n};\nFluxRedux.prototype.getState = function getState () {\n  return this.state\n};\nFluxRedux.prototype.subscribe = function subscribe (fn) {\n  return this.flux.subscribe('redux_change', fn)\n};\n\nexports.Flux = Flux;\nexports.FluxVue = FluxVue;\nexports.mapGetters = mapGetters;\nexports.mapActions = mapActions;\nexports.FluxRedux = FluxRedux;\n","<template>\n  <button class=\"sav-btn\">btn</button>\n</template>\n<script>\n  export default {\n\n  }\n</script>\n","<template>\n  <input class=\"sav-input\" />\n</template>\n<script>\n  export default {\n  }\n</script>\n","<template>\n  \n</template>\n<script>\n  export default {\n  }\n</script>\n","<template>\n  \n</template>\n<script>\n  export default {\n  }\n</script>\n","<template>\n  \n</template>\n<script>\n  export default {\n  }\n</script>\n","<template>\n  \n</template>\n<script>\n  export default {\n  }\n</script>\n","<template>\n  <label v-if=\"isLabel\" class=\"sav-field\">\n    <slot name=\"title\">\n      <span class=\"sav-label\">{{labelText}}</span>\n    </slot>\n    <div class=\"field-body\"><slot></slot></div>\n  </label>\n  <div v-else class=\"sav-field\">\n    <slot name=\"title\">\n      <span class=\"sav-label\">{{labelText}}</span>\n    </slot>\n    <div class=\"field-body\"><slot></slot></div>\n  </div>\n</template>\n<script>\n  export default {\n    props: {\n      isLabel: {\n        type: Boolean,\n        default: true\n      },\n      labelText: {\n        type: String,\n        default: ''\n      }\n    }\n  }\n</script>\n","<template>\n  <div :class=\"['sav-flex-block', isAlign]\">\n    <form :class=\"['sav-form', isAlign, horizontal ? 'is-horizontal': 'is-vertical']\">\n      <slot></slot>\n    </form>\n  </div>\n</template>\n<script>\n  export default {\n    props: {\n      isAlign: {\n        type: String,\n        default: 'is-center'\n      },\n      horizontal: {\n        type: Boolean,\n        default: false\n      }\n    }\n  }\n</script>\n","\nexport default {\n  inserted (el) {\n    el.focus()\n  }\n}\n","import focus from './focus'\n\nexport default {\n  focus\n}\n","import SavBtn from './components/SavBtn.vue'\nimport SavInput from './components/SavInput.vue'\nimport SavText from './components/SavText.vue'\nimport SavCheck from './components/SavCheck.vue'\nimport SavRadio from './components/SavRadio.vue'\nimport SavIcon from './components/SavIcon.vue'\nimport SavField from './components/SavField.vue'\nimport SavForm from './components/SavForm.vue'\n\nimport directives from './directives/index.js'\n\nexport function install (Vue) {\n  Object.keys(directives).forEach((it) => {\n    Vue.directive(it, directives[it])\n  })\n  Object.keys(components).forEach((it) => {\n    Vue.component(it, components[it])\n  })\n}\n\nlet components = {\n  SavBtn,\n  SavInput,\n  SavText,\n  SavCheck,\n  SavRadio,\n  SavIcon,\n  SavField,\n  SavForm\n}\n\nObject.defineProperty(components, 'install', {\n  value: install,\n  enumerable: false,\n  configurable: true\n})\n\nexport default components\n","// @NOTICE This file is generated by sav-cli.\n\n// 全局的VUE组件需要在这里注册\n// 其他需要用Vue的需要从这里引入\nimport VueRouter from 'vue-router'\nimport Vue from 'vue'\nimport {Flux, FluxVue} from 'sav-flux'\n\nimport SavComponents from '../../../src/index.js'\n\nVue.use(VueRouter)\nVue.use(FluxVue)\nVue.use(SavComponents)\n\nexport {Vue}\nexport {VueRouter}\nexport {Flux}\nexport {FluxVue}\n","<template>\n  <div class=\"element\">\n    <router-view></router-view>\n  </div>\n</template>\n<script>\n  export default {\n    name: 'Element',\n    getters: [\n    ],\n    actions: [\n    ]\n  }\n</script>\n","<template>\n  <div class=\"element-tabs\">\n    ElementTabs\n  </div>\n</template>\n<script>\n  export default {\n    name: 'ElementTabs',\n    getters: [\n    ],\n    actions: [\n    ]\n  }\n</script>\n","<template>\n  <div class=\"element-buttons\">\n    ElementButtons\n  </div>\n</template>\n<script>\n  export default {\n    name: 'ElementButtons',\n    getters: [\n    ],\n    actions: [\n    ]\n  }\n</script>\n","<template>\n  <div class=\"home\">\n    <router-view></router-view>\n  </div>\n</template>\n<script>\n  export default {\n    name: 'Home',\n    getters: [\n    ],\n    actions: [\n    ]\n  }\n</script>\n","<template>\n  <div class=\"home-index\">\n    <router-link :to=\"{name: 'PageLogin'}\">登录页面</router-link>\n    <router-link :to=\"{name: 'PageRegister'}\">注册页面</router-link>\n  </div>\n</template>\n<script>\n  export default {\n    name: 'HomeIndex',\n    getters: [\n    ],\n    actions: [\n    ]\n  }\n</script>\n","<template>\n  <div class=\"page\">\n    <router-view></router-view>\n  </div>\n</template>\n<script>\n  export default {\n    name: 'Page',\n    getters: [\n    ],\n    actions: [\n    ]\n  }\n</script>\n","<template>\n  <div class=\"page-login\">\n    <div class=\"sav-flex-block is-center\">\n      <form class=\"sav-form is-vertical\">\n        <label class=\"sav-field\">\n          <span class=\"sav-label\">您的帐号</span>\n            <div class=\"field-body\">\n              <input class=\"sav-input\" type=\"text\" v-model=\"username\"/>\n            </div>\n        </label>\n        <label class=\"sav-field\">\n          <span class=\"sav-label\">您的密码</span>\n            <div class=\"field-body\">\n              <input class=\"sav-input\" type=\"password\" v-model=\"username\"/>\n            </div>\n        </label>\n        <div class=\"sav-field\">\n          <label class=\"sav-label\"></label>\n          <div class=\"field-body\">\n            <button class=\"field-item sav-btn is-primary\" @click=\"$router.back()\">登录</button>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n<script>\n  export default {\n    name: 'PageLogin',\n    getters: [\n      'username',\n      'password',\n    ],\n    actions: [\n    ]\n  }\n</script>\n","<template>\n  <div class=\"page-register\">\n    <sav-form>\n      <sav-field labelText=\"您的帐号\">\n        <input v-focus type=\"text\" v-model=\"username\" />\n      </sav-field>\n      <sav-field labelText=\"您的昵称\">\n        <input type=\"text\" v-model=\"nickname\" />\n      </sav-field>\n      <sav-field labelText=\"您的密码\">\n        <input type=\"password\" v-model=\"password\" />\n      </sav-field>\n      <sav-field labelText=\"确认秘密\">\n        <input type=\"password\" v-model=\"confirmPassword\" />\n      </sav-field>\n      <sav-field :isLabel=\"false\">\n        <button class=\"field-item sav-btn is-primary\" @click=\"$router.back()\">注册</button>\n      </sav-field>\n    </sav-form>\n  </div>\n</template>\n<script>\n  export default {\n    name: 'PageRegister',\n    getters: [\n      'nickname',\n      'username',\n      'password',\n      'confirmPassword',\n    ],\n    actions: [\n    ]\n  }\n</script>\n","// @NOTICE This file is generated by sav-cli.\n\n/* eslint quotes: [\"off\"] */\nimport Element from './Element/Element.vue'\nimport ElementTabs from './Element/ElementTabs.vue'\nimport ElementButtons from './Element/ElementButtons.vue'\nimport Home from './Home/Home.vue'\nimport HomeIndex from './Home/HomeIndex.vue'\nimport Page from './Page/Page.vue'\nimport PageLogin from './Page/PageLogin.vue'\nimport PageRegister from './Page/PageRegister.vue'\n\nexport default [\n  {\n    component: Element,\n    path: \"/element\",\n    children: [\n      {\n        component: ElementTabs,\n        name: \"ElementTabs\",\n        path: \"tabs\"\n      },\n      {\n        component: ElementButtons,\n        name: \"ElementButtons\",\n        path: \"buttons\"\n      }\n    ]\n  },\n  {\n    component: Home,\n    path: \"/\",\n    children: [\n      {\n        component: HomeIndex,\n        name: \"HomeIndex\",\n        path: \"\"\n      }\n    ]\n  },\n  {\n    component: Page,\n    path: \"/page\",\n    children: [\n      {\n        component: PageLogin,\n        name: \"PageLogin\",\n        path: \"login\"\n      },\n      {\n        component: PageRegister,\n        name: \"PageRegister\",\n        path: \"register\"\n      }\n    ]\n  }\n]\n","<template>\n  <div id=\"app\">\n    <router-view class=\"view\"></router-view>\n  </div>\n</template>\n<script>\n  export default {\n    name: 'App',\n    getters: [\n    ],\n    actions: [\n    ]\n  }\n</script>\n","/*!\n * sav-schema v0.0.17\n * (c) 2017 jetiny 86287344@qq.com\n * Release under the MIT License.\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nclass SchemaTypeError extends Error {\n  constructor(type, value, message = '数据类型 {type} 无法识别数值 {value}') {\n    super(message.replace('{type}', type).replace('{value}', String(value)));\n    this.type = type;\n    this.value = value;\n  }\n}\n\nclass SchemaEnumError extends Error {\n  constructor(type, value, message = '枚举类型 {type} 无法识别数值 {value}') {\n    super(message.replace('{type}', type).replace('{value}', String(value)));\n    this.type = type;\n    this.value = value;\n  }\n}\n\nclass SchemaRequiredError extends Error {\n  constructor(field, message = '字段{field}不存在') {\n    super(message.replace('{field}', field));\n    this.field = field;\n  }\n}\n\nclass SchemaCheckedError extends Error {\n  constructor(field, rule, message = '字段{field}不满足校验规则{rule}') {\n    super(message.replace('{field}', field).replace('{rule}', rule));\n    this.field = field;\n    this.rule = rule;\n  }\n}\n\nclass SchemaNoRuleError extends Error {\n  constructor(rule, message = '校验规则{rule}不存在') {\n    super(message.replace('{rule}', rule));\n    this.rule = rule;\n  }\n}\n\nclass SchemaInvalidRegexpError extends Error {\n  constructor(regexp, message = '非法的正则表达式{regexp}') {\n    super(message.replace('{regexp}', regexp));\n    this.regexp = regexp;\n  }\n}\n\n/*!\n * sav-util v0.0.9\n * (c) 2017 jetiny 86287344@qq.com\n * Release under the MIT License.\n */\nfunction toStringType (val) {\n  return Object.prototype.toString.call(val).slice(8, -1)\n}\n\nvar isArray = Array.isArray;\n\nfunction isBoolean (arg) {\n  return typeof arg === 'boolean'\n}\n\nfunction isString (arg) {\n  return typeof arg === 'string'\n}\n\nfunction isFunction (arg) {\n  return typeof arg === 'function'\n}\n\nfunction isObject (arg) {\n  return (toStringType(arg) === 'Object') && (arg !== null)\n}\n\nfunction isNumber (arg) {\n  return typeof arg === 'number' && !isNaN(arg)\n}\n\nfunction isInteger (arg) {\n  return isNumber(arg) && parseInt(arg) === arg\n}\n\nfunction isUndefined (arg) {\n  return arg === undefined\n}\n\nfunction isNull (arg) {\n  return arg === null\n}\n\nvar isInt = isInteger;\nfunction isUint (arg) {\n  return isInteger(arg) && arg >= 0\n}\n\nfunction defined (val) {\n  return val !== 'undefined'\n}\n\nvar probe = {\n  Map: defined(typeof Map),\n  Proxy: defined(typeof Proxy),\n  MessageChannel: defined(typeof MessageChannel),\n  localStorage: defined(typeof localStorage),\n  XMLHttpRequest: defined(typeof XMLHttpRequest),\n  MutationObserver: defined(typeof MutationObserver),\n  FormData: defined(typeof FormData),\n  window: defined(typeof window),\n  document: defined(typeof document)\n};\n\n/*\n * @Description      URL解析\n * @File             url.js\n * @Auth             jetiny@hfjy.com\n */\n\n// jsuri https://code.google.com/r/jonhwendell-jsuri/\n// https://username:password@www.test.com:8080/path/index.html?this=that&some=thing#content\nvar REKeys = ['source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'];\nvar URL_RE = /^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#/]*\\.[^?#/.]+(?:[?#]|$)))*\\/?)?([^?#/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nfunction parseUrl (str) {\n  var _uri = {};\n  var _m = URL_RE.exec(str || '');\n  var _i = REKeys.length;\n  while (_i--) {\n    _uri[REKeys[_i]] = _m[_i] || '';\n  }\n  return _uri\n}\n\nfunction stringifyUrl (uri) {\n  var str = '';\n  if (uri) {\n    if (uri.host) {\n      if (uri.protocol) { str += uri.protocol + ':'; }\n      str += '//';\n      if (uri.user) { str += uri.user + ':'; }\n      if (uri.password){ (str += uri.password + '@'); }\n      str += uri.host;\n      if (uri.port) { str += ':' + uri.port; }\n    }\n    str += uri.path || '';\n    if (uri.query) { str += '?' + uri.query; }\n    if (uri.anchor) { str += '#' + uri.anchor; }\n  }\n  return str\n}\n\nvar _encode = encodeURIComponent;\nvar r20 = /%20/g;\nvar rbracket = /\\[]$/;\n\nfunction buildParams (prefix, obj, add) {\n  if (Array.isArray(obj)) {\n        // Serialize array item.\n    obj.forEach(function (v, i) {\n      if (rbracket.test(prefix)) {\n                // Treat each array item as a scalar.\n        add(prefix, v);\n      } else {\n                // Item is non-scalar (array or object), encode its numeric index.\n        buildParams(prefix + '[' + (typeof v === 'object' ? i : '') + ']', v, add);\n      }\n    });\n  } else if (isObject(obj)) {\n        // Serialize object item.\n    for (var name in obj) {\n      buildParams(prefix + '[' + name + ']', obj[name], add);\n    }\n  } else {\n        // Serialize scalar item.\n    add(prefix, obj);\n  }\n}\n\n// # http://stackoverflow.com/questions/1131630/the-param-inverse-function-in-javascript-jquery\n// a[b]=1&a[c]=2&d[]=3&d[]=4&d[2][e]=5 <=> { a: { b: 1, c: 2 }, d: [ 3, 4, { e: 5 } ] }\nfunction parseQuery (str, opts) {\n  if ( opts === void 0 ) opts = {};\n\n  var _querys = {};\n  decodeURIComponent(str || '')\n  .replace(/\\+/g, ' ')\n  // (optional no-capturing & )(key)=(value)\n  .replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, _name, _value) {\n    if (_name) {\n      var _path, _acc, _tmp, _ref;\n      (_path = []).unshift(_name = _name.replace(/\\[([^\\]]*)]/g, function ($0, _k) {\n        _path.push(_k);\n        return ''\n      }));\n      _ref = _querys;\n      for (var j = 0; j < _path.length - 1; j++) {\n        _acc = _path[j];\n        _tmp = _path[j + 1];\n        if (!_ref[_acc]) {\n          _ref[_acc] = ((_tmp === '') || (/^[0-9]+$/.test(_tmp))) ? [] : {};\n        }\n        _ref = _ref[_acc];\n      }\n      if (opts.boolval) { // first\n        if (_value === 'true') {\n          _value = true;\n        } else if (_value === 'false') {\n          _value = false;\n        }\n      } else if (opts.intval) { // skip \"true\" & \"false\"\n        if ((_tmp = parseInt(_value) === _value)) {\n          _value = _tmp;\n        }\n      }\n      if ((_acc = _path[_path.length - 1]) === '') {\n        _ref.push(_value);\n      } else {\n        _ref[_acc] = _value;\n      }\n    }\n  });\n  return _querys\n}\n\nfunction stringifyQuery (query) {\n    // # http://api.jquery.com/jQuery.param\n  var _add = function (key, value) {\n            /* jshint eqnull:true */\n    _str.push(_encode(key) + '=' + ((value === null || value === undefined) ? '' : _encode(value)));\n            // _str.push(( key ) + \"=\" +  (value == null ? \"\" : ( value )));\n  };\n  var _str = [];\n  query || (query = {});\n  for (var x in query) {\n    buildParams(x, query[x], _add);\n  }\n  return _str.join('&').replace(r20, '+')\n}\n\nfunction extend () {\n  var arguments$1 = arguments;\n\n    // form jQuery & remove this\n  var options, name, src, copy, copyIsArray, clone;\n  var target = arguments[0] || {};\n  var i = 1;\n  var length = arguments.length;\n  var deep = false;\n  if (isBoolean(target)) {\n    deep = target;\n    target = arguments[i] || {};\n    i++;\n  }\n  if (typeof target !== 'object' && !isFunction(target)) {\n    target = {};\n  }\n  for (; i < length; i++) {\n    options = arguments$1[i];\n        /* jshint eqnull:true */\n    if (options != null) {\n      for (name in options) {\n        src = target[name];\n        copy = options[name];\n        if (target !== copy) {\n          if (deep && copy && (isObject(copy) || (copyIsArray = isArray(copy)))) {\n            if (copyIsArray) {\n              copyIsArray = false;\n              clone = src && isArray(src) ? src : [];\n            } else {\n              clone = src && isObject(src) ? src : {};\n            }\n            target[name] = extend(deep, clone, copy);\n          } else {\n            target[name] = copy;\n          }\n        }\n      }\n    }\n  }\n  return target\n}\n\nfunction clone (val) {\n  if (isArray(val)) {\n    return extend(true, [], val)\n  } else if (isObject(val)) {\n    return extend(true, {}, val)\n  }\n  return extend(true, [], [val])[0]\n}\n\nvar PROMISE = Promise;\nvar promise = {\n  resolve: PROMISE.resolve.bind(PROMISE),\n  reject: PROMISE.reject.bind(PROMISE),\n  all: PROMISE.all.bind(PROMISE),\n  then: function (fn, reject) {\n    return new PROMISE(fn, reject)\n  }\n};\n\nfunction parseHeaders (str, camelHeaders) {\n  var ret = {};\n  str.trim().split('\\n').forEach(function (key) {\n    key = key.replace(/\\r/g, '');\n    var arr = key.split(': ');\n    var name = arr.shift().toLowerCase();\n    ret[camelHeaders ? camelCase(name) : name] = arr.shift();\n  });\n  return ret\n}\n\nfunction camelCase (s) {\n  return s.replace(/-(.)/g, function (a, $1) {\n    return $1.toUpperCase()\n  })\n}\n\nconst defaultTypes = [];\n\nfunction registerType(opts) {\n  if (isArray(opts)) {\n    defaultTypes.push.apply(defaultTypes, opts);\n  } else if (isObject(opts)) {\n    defaultTypes.push(opts);\n  }\n}\n\nfunction applyTypes(schema) {\n  schema.declare(defaultTypes);\n}\n\nconst defaultCheckes = {};\n\nfunction registerCheck(name, func) {\n  if (isObject(name, func)) {\n    Object.assign(defaultCheckes, name, func);\n  } else {\n    defaultCheckes[name] = func;\n  }\n}\n\nfunction applyCheckValue(value, rules) {\n  if (isArray(rules)) {\n    for (let rule of rules) {\n      let [name] = rule;\n      if (!defaultCheckes[name]) {\n        throw new SchemaNoRuleError(name);\n      }\n      if (!defaultCheckes[name](value, rule)) {\n        return rule;\n      }\n    }\n  }\n}\n\nconst SCHEMA_TYPE = 1;\nconst SCHEMA_ENUM = 2;\nconst SCHEMA_STURCT = 3;\n\nfunction objectAssign(target, obj, excludes) {\n  if (isObject(obj)) {\n    let isExclude = isArray(excludes);\n    for (let key in obj) {\n      if (!isExclude || excludes.indexOf(key) === -1) {\n        target[key] = obj[key];\n      }\n    }\n  }\n}\n\n/**\n * 枚举类型\n */\n/*\n{\n  name: 'Sex',\n  enums: [\n    {key: 'male', value: 1},\n    {key: 'female', value: 2}\n  ],\n  strict: true,\n  default: 'male'\n}\n */\n\nclass SchemaEnum {\n  constructor(props, schema) {\n    this.schemaType = SCHEMA_ENUM;\n    this.schema = schema;\n    objectAssign(this, props, ['enums']);\n    let enums = isObject(props.enums) ? toArray(props.enums) : isArray(props.enums) ? props.enums : [];\n    this.enums = [];\n    this.keyMaps = {};\n    this.keys = [];\n    this.values = [];\n    this.valueMaps = {};\n    enums.forEach(item => this.addEnum(item));\n    if (this.name) {\n      schema.export(this);\n    }\n  }\n  addEnum(item) {\n    this.keyMaps[item.key] = item;\n    this.valueMaps[item.value] = item;\n    this.keys.push(item.key);\n    this.values.push(item.value);\n    this.enums.push(item);\n  }\n  hasKey(key) {\n    return this.isStrict ? this.keys.indexOf(key) !== -1 : !!this.keyMaps[key];\n  }\n  hasValue(value) {\n    return this.isStrict ? this.values.indexOf(value) !== -1 : !!this.valueMaps[value];\n  }\n  value(key) {\n    if (this.isStrict) {\n      let idx = this.keys.indexOf(key);\n      if (idx !== -1) {\n        return this.keyMaps[key].value;\n      }\n    } else {\n      return this.keyMaps[key].value;\n    }\n  }\n  key(value) {\n    if (this.isStrict) {\n      let idx = this.values.indexOf(value);\n      if (idx !== -1) {\n        return this.keyMaps[this.keys[idx]].key;\n      }\n    } else {\n      return this.valueMaps[value].key;\n    }\n  }\n  create(val) {\n    if (this.hasValue(val)) {\n      return val;\n    } else if (isFunction(val)) {\n      return val();\n    } else if (val !== this.default) {\n      return this.create(this.default);\n    }\n  }\n  check(val) {\n    return this.hasValue(val);\n  }\n  parse(val) {\n    if (this.values.indexOf(val) !== -1) {\n      return val;\n    } else if (this.valueMaps[val]) {\n      return this.valueMaps[val].value;\n    }\n  }\n  get isStrict() {\n    return 'strict' in this ? this.strict : this.schema && this.schema.isStrict;\n  }\n}\n\nfunction toArray(enums) {\n  return Object.keys(enums).map(it => {\n    return isObject(enums[it]) ? enums[it] : { key: it, value: enums[it] };\n  });\n}\n\n/**\n * 简单类型\n */\n/*\n{\n  name: String\n}\n虽然支持以下形式 但是基本数据类型不建议使用\n{\n  name: 'String',\n  default: String\n}\n{\n  name: 'String',\n  default: ''\n}\n */\n\nclass SchemaType {\n  constructor(props, schema) {\n    this.schemaType = SCHEMA_TYPE;\n    this.schema = schema;\n    Object.assign(this, props);\n    if (isFunction(this.name)) {\n      if (!('default' in this)) {\n        this.default = this.name;\n      }\n      this.name = this.name.name;\n    }\n    if (this.name) {\n      schema.export(this);\n    }\n  }\n  // parse\n  // check\n  create(val) {\n    if (arguments.length) {\n      if (isFunction(val)) {\n        return this.parse(val());\n      }\n      return this.parse(val);\n    } else {\n      return isFunction(this.default) ? this.default() : this.default;\n    }\n  }\n}\n\n/*\n{\n  name: 'followers',\n\n  type: 'Array',      // 可能未定义\n  subTef: 'User',\n  ref: Array,\n  subRef: User,\n\n  required: false,\n  optional: true,\n  message: \"用户关注数据非法\"\n}\n */\nclass SchemaField {\n  constructor(props, struct) {\n    Object.assign(this, props);\n    this.struct = struct;\n    let { schema } = struct;\n    // delay\n    if (!this.ref && this.type) {\n      schema.delay(() => {\n        this.ref = schema[this.type];\n      });\n    }\n    if (!this.subRef && this.subType) {\n      schema.delay(() => {\n        this.subRef = schema[this.subType];\n      });\n    }\n  }\n  create(value) {\n    let ret = arguments.length ? this.ref.create(value) : this.ref.create();\n    if (isArray(ret) && ret.length && this.type === 'Array' && this.subRef) {\n      ret = ret.map(item => this.subRef.create(item));\n    }\n    return ret;\n  }\n  validate(obj, inPlace) {\n    let val = checkField(obj, this, inPlace);\n    if (this.subRef) {\n      val = checkSubField(val, this, inPlace);\n    }\n    return val;\n  }\n}\n\nfunction checkSubField(val, field, inPlace) {\n  let { subRef, subType } = field;\n  // if (!isArray(val)) { // allow Array<Struct> only\n  //   throw new SchemaTypeError(field.type, val)\n  // }\n  let ret = inPlace ? val : [];\n  for (let i = 0, l = val.length; i < l; ++i) {\n    try {\n      let subVal;\n      if (subRef.schemaType === SCHEMA_STURCT) {\n        subVal = subRef.validate(val[i], inPlace);\n      } else {\n        subVal = checkValue(val[i], subRef, subType);\n      }\n      ret[i] = subVal;\n    } catch (err) {\n      (err.keys || (err.keys = [])).unshift(i);\n      throw err;\n    }\n  }\n  return ret;\n}\n\nfunction checkField(obj, field, inPlace) {\n  let { name, required, nullable, ref, type } = field;\n  if (!required && !(name in obj)) {\n    return;\n  }\n  if (nullable && isNull(obj[name])) {\n    return;\n  }\n  try {\n    if (!(name in obj)) {\n      throw new SchemaRequiredError(name);\n    }\n    let val = obj[name];\n    let rule = applyCheckValue(val, field.checkes);\n    if (rule) {\n      throw new SchemaCheckedError(name, rule[0]);\n    }\n    if (ref.schemaType === SCHEMA_STURCT) {\n      val = ref.validate(val, inPlace);\n    } else {\n      val = checkValue(val, ref, type);\n    }\n    return val;\n  } catch (err) {\n    if (field.message) {\n      err.message = field.message;\n    }\n    throw err;\n  }\n}\n\nfunction checkValue(val, ref, type) {\n  if (!ref.check(val)) {\n    let pass;\n    if (ref.parse) {\n      pass = ref.check(ref.parse(val));\n    }\n    if (!pass) {\n      // 仍然失败\n      if (ref.schemaType === SCHEMA_ENUM) {\n        throw new SchemaEnumError(type, val);\n      } else if (ref.schemaType === SCHEMA_TYPE) {\n        throw new SchemaTypeError(type, val);\n      }\n    }\n  }\n  return val;\n}\n\nfunction updateField(field, { schema, root }) {\n  // override [type, subType, ref, subRef, required, key]\n  const { type } = field;\n  if (isString(type)) {\n    if (type.indexOf('<') > 0) {\n      // [\"Array<User>\", \"Array\", \"User\"]\n      const mat = type.match(/^(\\w+)(?:<(\\w+)>)?$/);\n      field.type = mat[1];\n      field.subType = mat[2];\n    }\n    if (!field.ref) {\n      field.ref = root.refs[field.type] || schema[field.type];\n    }\n  } else if (isObject(type)) {\n    field.type = type.name;\n    field.ref = type;\n  }\n  if (field.ref && !field.ref.schema) {\n    // 支持使用ref定义\n    field.ref = schema.declare(field.ref, root);\n  }\n  if (field.subType) {\n    // 支持使用subType定义\n    if (!field.subRef) {\n      if (isString(field.subType)) {\n        field.subRef = root.refs[field.subType] || schema[field.subType];\n      } else if (isObject(field.subType)) {\n        field.subRef = schema.declare(field.subType, root);\n        field.subType = field.subRef.name;\n      }\n    }\n  }\n  if (field.subRef && !field.subRef.schema) {\n    // 支持使用 subRef定义\n    field.subRef = schema.declare(field.subRef, root);\n  }\n  field.required = 'required' in field ? field.required : !field.optional;\n}\n\n/**\ncreateField('Number|@comment:text|@optional|len,4,10')\n=>\n{\n    \"type\": \"Number\",\n    \"optional\": true,\n    \"checkes\": [\n        [ \"len\", \"4\", \"10\" ]\n    ],\n    \"comment\": \"text\"\n}\n */\n\nfunction createField(input, { schema, root }) {\n  if (isString(input)) {\n    return parseFieldStr(input);\n  }\n  let ret = Object.create(null);\n  if (isFunction(input)) {\n    // {userName: String} => {userName: 'String'}\n    ret.type = input.name;\n  } else if (isObject(input)) {\n    if (input.schema) {\n      // { sex: schema.declare({name: 'Sex', enums: []) } => {sex: {type: SexObject}}\n      ret.type = input;\n    } else {\n      Object.assign(ret, input); // 赋值属性\n      let inputType = input.type;\n      if (isFunction(inputType)) {\n        //  {userName: {type: String, comment: '用户名'}} =>\n        ret.type = inputType.name;\n      } else if (isString(inputType)) {\n        //  {userName: {type: 'String|@comment:用户名'}}\n        if (inputType.indexOf('|') !== -1) {\n          // 合并解析后的内容\n          Object.assign(ret, parseFieldStr(inputType));\n        }\n      } else if (isObject(inputType)) {\n        if (inputType.schema) {\n          // {sex: {type: schema.declare({name: 'Sex', enums: []) }}\n          ret.type = inputType;\n        } else {\n          // {sex: {type: {name: 'Sex', enums: []} }\n          ret.type = schema.declare(inputType, root);\n        }\n      }\n    }\n  }\n  return ret;\n}\n\nfunction parseFieldStr(input) {\n  if (propCache[input]) {\n    return clone$1(propCache[input]);\n  }\n  let ret = Object.create(null);\n  let strs = input.split('|');\n  ret.type = strs.shift(); // 数据类型放在第一位\n  strs.forEach(it => {\n    if (it[0] === '@') {\n      // 提取属性 @comment:text => {comment: 'text'}\n      let map = it.substr(1, it.length).split(':');\n      let key = map.shift();\n      ret[lcword(key)] = map.length ? parseValue(map.shift()) : true; // 默认为 true\n    } else {\n      // 提取校验字段 checkes len,4,10 => [ \"len\", 4, 10 ]\n      let map = it.split(',');\n      let method = map.shift();\n      if (method.length) {\n        let checkes = ret.checkes || (ret.checkes = []);\n        checkes.push([method].concat(map.map(parseValue)));\n      }\n    }\n  });\n  return clone$1(propCache[input] = ret);\n}\n\nconst propCache = {};\n\nfunction clone$1(val) {\n  return JSON.parse(JSON.stringify(val));\n}\n\nfunction lcword(s) {\n  return s.length ? s.substr(0, 1).toLowerCase() + s.substr(1, s.length) : s;\n}\n\nfunction parseValue(val) {\n  if (val === 'true' || val === 'on') {\n    return true;\n  } else if (val === 'false' || val === 'off') {\n    return false;\n  }\n  let ret;\n  if (String(ret = parseInt(val)) === val) {\n    return ret;\n  } else if (String(ret = parseFloat(val)) === val) {\n    return ret;\n  }\n  return val;\n}\n\n/**\n * 结构体类型\n */\n/*\nprops: {\n  name: String,\n  name1: 'String',\n  age: {\n    type: Number\n  },\n  age1: 'Number',\n  sex: 'Sex',\n  sex1: {\n    type: 'Sex',\n    optional: true\n  }\n},\nrefs: {\n  Sex: {\n    enums: [\n      {key: 'male', value: 1},\n      {key: 'female', value: 2}\n    ]\n  }\n}\n */\n\nclass SchemaStruct {\n  constructor(opts, schema, root) {\n    this.schemaType = SCHEMA_STURCT;\n    this.schema = schema;\n    this.fields = [];\n    this.root = root || this;\n    this.refs = root ? null : {}; // 使用root的refs\n    objectAssign(this, opts, ['props, refs', 'export']);\n    if (this.name) {\n      schema.export(this);\n    }\n    let refs = opts.refs;\n    for (let ref in refs) {\n      this.addRef(refs[ref], ref);\n    }\n    let props = opts.props;\n    for (let prop$$1 in props) {\n      this.addField(props[prop$$1], prop$$1);\n    }\n  }\n  addField(value, name) {\n    let field = createField(value, this);\n    field.name = name;\n    updateField(field, this);\n    this.fields.push(new SchemaField(field, this));\n  }\n  addRef(ref, name) {\n    if (ref.export && !ref.name) {\n      ref.name = name;\n    }\n    this.root.refs[name] = this.schema.declare(ref, this.root);\n  }\n  create(obj = {}) {\n    let struct = {};\n    let isObj = isObject(obj);\n    this.fields.forEach(it => {\n      struct[it.name] = isObj && it.name in obj ? it.create(obj[it.name]) : it.create();\n    });\n    return struct;\n  }\n  createRequest(obj) {\n    return this.create(Object.assign(isObject(this.req) ? clone(this.req) : {}, obj));\n  }\n  createResponse(obj) {\n    return this.create(Object.assign(isObject(this.res) ? clone(this.res) : {}, obj));\n  }\n  validate(obj, inPlace) {\n    try {\n      let ret = inPlace ? obj : {};\n      for (let field of this.fields) {\n        try {\n          let val = field.validate(obj, inPlace);\n          if (!isUndefined(val)) {\n            ret[field.name] = val;\n          }\n        } catch (err) {\n          (err.keys || (err.keys = [])).unshift(field.name);\n          throw err;\n        }\n      }\n      return ret;\n    } catch (err) {\n      if (err.keys) {\n        err.path = err.keys.join('.');\n      }\n      throw err;\n    }\n  }\n  check(obj) {\n    return this.validate(obj, true);\n  }\n  checkThen(obj) {\n    return Promise.resolve().then(() => {\n      return this.check(obj);\n    });\n  }\n  extract(obj) {\n    return this.validate(obj, false);\n  }\n  extractThen(obj) {\n    return Promise.resolve().then(() => {\n      return this.extract(obj);\n    });\n  }\n}\n\nclass Schema {\n  constructor(opts) {\n    this.opts = Object.assign({\n      strict: true\n    }, opts);\n    applyTypes(this);\n  }\n  get isStrict() {\n    return this.strict;\n  }\n  export(struct) {\n    this[struct.name] = struct;\n  }\n  declare(opts, root) {\n    if (isArray(opts)) {\n      return opts.map(it => this.declare(it));\n    } else if (isObject(opts)) {\n      let ret = createSchemaType(this, opts, root);\n      return ret;\n    }\n  }\n  delay(fn) {\n    if (this._promise) {\n      this._promise.queue(fn);\n    } else {\n      let promise$$1 = {\n        promise: Promise.resolve().then(() => {\n          delete this._promise;\n          let ret = Promise.resolve();\n          promise$$1.queues.forEach(fn => ret.then(fn));\n          return ret;\n        }),\n        queues: [fn],\n        queue(fn) {\n          promise$$1.queues.push(fn);\n          return promise$$1;\n        }\n      };\n      this._promise = promise$$1;\n    }\n  }\n  ready(fn) {\n    if (this._promise) {\n      return fn ? this._promise.promise.then(fn) : this._promise.promise;\n    } else {\n      return Promise.resolve().then(fn);\n    }\n  }\n}\n\nfunction createSchemaType(schema, opts, root) {\n  let struct;\n  if (opts.enums) {\n    struct = new SchemaEnum(opts, schema);\n  } else if (opts.props) {\n    struct = new SchemaStruct(opts, schema, root);\n  } else {\n    struct = new SchemaType(opts, schema);\n  }\n  return struct;\n}\n\nfunction stringVal(val) {\n  if (isNumber(val) || isBoolean(val)) {\n    return String(val);\n  }\n  return val;\n}\n\nfunction boolVal(val) {\n  if (isNumber(val)) {\n    return Boolean(val);\n  }\n  if (isString(val)) {\n    if (val === 'true' || val === 'on') {\n      return true;\n    }\n    return false;\n  }\n  return val;\n}\n\nfunction numberVal(val) {\n  if (isBoolean(val)) {\n    return Number(val);\n  } else if (isString(val)) {\n    if (val === 'true' || val === 'on') {\n      return Number(true);\n    } else if (val === 'false' || val === 'off') {\n      return Number(false);\n    } else {\n      return Number(val);\n    }\n  }\n  return val;\n}\n\nfunction arrayVal(val) {\n  if (isString(val)) {\n    if (val[0] === '[') {\n      return JSON.parse(val);\n    } else if (val.indexOf(',') !== -1) {\n      return val.split(',');\n    }\n  }\n  return val;\n}\n\nfunction objectVal(val) {\n  if (isString(val)) {\n    if (val[0] === '{') {\n      return JSON.parse(val);\n    }\n  }\n  return val;\n}\n\nvar defaultSchema = [{ name: String, check: isString, parse: stringVal }, { name: Number, check: isNumber, parse: numberVal }, { name: Boolean, check: isBoolean, parse: boolVal }, { name: Array, check: isArray, parse: arrayVal }, { name: Object, check: isObject, parse: objectVal }, { name: 'Int', default: Number, check: isInt, parse: numberVal }, { name: 'Uint', default: Number, check: isUint, parse: numberVal }];\n\n// 数字大小\nfunction gt(value, [, arg1]) {\n  return value > arg1;\n}\n\nfunction gte(value, [, arg1]) {\n  return value >= arg1;\n}\n\nfunction lt(value, [, arg1]) {\n  return value < arg1;\n}\n\nfunction lte(value, [, arg1]) {\n  return value <= arg1;\n}\n\n// 包含\nfunction $in(value, argv) {\n  return argv.indexOf(value) > 0;\n}\n\nfunction nin(value, argv) {\n  return argv.indexOf(value) <= 0;\n}\n\n// 字符串或数组长度\nfunction lgt(value, argv) {\n  return gt(value.length, argv);\n}\n\nfunction lgte(value, argv) {\n  return gte(value.length, argv);\n}\n\nfunction llt(value, argv) {\n  return lt(value.length, argv);\n}\n\nfunction llte(value, argv) {\n  return lte(value.length, argv);\n}\n\nlet regexpMaps = {};\n// 正则表达式\nfunction re(value, [, regexp]) {\n  if (typeof regexp === 'string') {\n    if (!regexpMaps[regexp]) {\n      regexpMaps[regexp] = toRegExp(regexp);\n    }\n  }\n  return (regexpMaps[regexp] || regexp).test(value);\n}\n\n// https://github.com/borela/str-to-regexp/blob/master/src/index.js\nconst COMPLEX_BEGIN = /^\\s*\\//;\nconst COMPLEX_REGEX = /^\\s*\\/(.+)\\/(\\w*)\\s*$/;\n\nfunction parseWithFlags(fullPattern) {\n  try {\n    let [, pattern, flags] = fullPattern.match(COMPLEX_REGEX);\n    return flags ? new RegExp(pattern, flags) : new RegExp(pattern);\n  } catch (e) {\n    throw new SchemaInvalidRegexpError(fullPattern);\n  }\n}\n\nfunction toRegExp(pattern) {\n  return COMPLEX_BEGIN.test(pattern) ? parseWithFlags(pattern) : new RegExp(pattern);\n}\n\nvar defaultCheck = {\n  gt,\n  gte,\n  lt,\n  lte,\n  in: $in,\n  nin,\n  lgt,\n  lgte,\n  llt,\n  llte,\n  re\n};\n\nregisterType(defaultSchema);\nregisterCheck(defaultCheck);\n\nvar index = new Schema();\n\nexports.Schema = Schema;\nexports.registerCheck = registerCheck;\nexports.registerType = registerType;\nexports['default'] = index;\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction toStringType(val) {\n  return Object.prototype.toString.call(val).slice(8, -1);\n}\n\nconst isArray = Array.isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isObject(arg) {\n  return toStringType(arg) === 'Object' && arg !== null;\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number' && !isNaN(arg);\n}\n\nfunction isInteger(arg) {\n  return isNumber(arg) && parseInt(arg) === arg;\n}\n\nfunction isUndefined(arg) {\n  return arg === undefined;\n}\n\nfunction isNull(arg) {\n  return arg === null;\n}\n\nfunction isNan(arg) {\n  return typeof arg === 'number' && isNaN(arg);\n}\n\nfunction isRegExp(arg) {\n  return toStringType(arg) === 'RegExp';\n}\n\nfunction isDate(arg) {\n  return toStringType(arg) === 'Date';\n}\n\nfunction typeValue(arg) {\n  if (isNan(arg)) {\n    return 'Nan';\n  }\n  switch (arg) {\n    case undefined:\n      return 'Undefined';\n    case null:\n      return 'Null';\n    default:\n      return toStringType(arg);\n  }\n}\n\nconst isInt = isInteger;\nfunction isUint(arg) {\n  return isInteger(arg) && arg >= 0;\n}\n\nfunction isAsync(func) {\n  return isFunction(func) && func.constructor.name === 'AsyncFunction';\n}\n\nfunction isPromise(obj) {\n  return obj && isFunction(obj.then);\n}\n\nlet types = {\n  isBoolean,\n  isString,\n  isNumber,\n  isObject,\n  isArray,\n  isFunction,\n  isRegExp,\n  isDate,\n  isNull,\n  isUndefined,\n  isInt,\n  isUint\n};\n\nfunction defined(val) {\n  return val !== 'undefined';\n}\n\nlet probe = {\n  Map: defined(typeof Map),\n  Proxy: defined(typeof Proxy),\n  MessageChannel: defined(typeof MessageChannel),\n  localStorage: defined(typeof localStorage),\n  XMLHttpRequest: defined(typeof XMLHttpRequest),\n  MutationObserver: defined(typeof MutationObserver),\n  FormData: defined(typeof FormData),\n  window: defined(typeof window),\n  document: defined(typeof document)\n};\n\n/*\n * @Description      URL解析\n * @File             url.js\n * @Auth             jetiny@hfjy.com\n */\n\n// jsuri https://code.google.com/r/jonhwendell-jsuri/\n// https://username:password@www.test.com:8080/path/index.html?this=that&some=thing#content\nconst REKeys = ['source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'];\nconst URL_RE = /^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#/]*\\.[^?#/.]+(?:[?#]|$)))*\\/?)?([^?#/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nfunction parseUrl(str) {\n  let _uri = {};\n  let _m = URL_RE.exec(str || '');\n  let _i = REKeys.length;\n  while (_i--) {\n    _uri[REKeys[_i]] = _m[_i] || '';\n  }\n  return _uri;\n}\n\nfunction stringifyUrl(uri) {\n  let str = '';\n  if (uri) {\n    if (uri.host) {\n      if (uri.protocol) str += uri.protocol + ':';\n      str += '//';\n      if (uri.user) str += uri.user + ':';\n      if (uri.password) str += uri.password + '@';\n      str += uri.host;\n      if (uri.port) str += ':' + uri.port;\n    }\n    str += uri.path || '';\n    if (uri.query) str += '?' + uri.query;\n    if (uri.anchor) str += '#' + uri.anchor;\n  }\n  return str;\n}\n\nconst Url = {\n  parse: parseUrl,\n  stringify: stringifyUrl\n};\n\nconst _encode = encodeURIComponent;\nconst r20 = /%20/g;\nconst rbracket = /\\[]$/;\n\nfunction buildParams(prefix, obj, add) {\n  if (Array.isArray(obj)) {\n    // Serialize array item.\n    obj.forEach(function (v, i) {\n      if (rbracket.test(prefix)) {\n        // Treat each array item as a scalar.\n        add(prefix, v);\n      } else {\n        // Item is non-scalar (array or object), encode its numeric index.\n        buildParams(prefix + '[' + (typeof v === 'object' ? i : '') + ']', v, add);\n      }\n    });\n  } else if (isObject(obj)) {\n    // Serialize object item.\n    for (let name in obj) {\n      buildParams(prefix + '[' + name + ']', obj[name], add);\n    }\n  } else {\n    // Serialize scalar item.\n    add(prefix, obj);\n  }\n}\n\n// # http://stackoverflow.com/questions/1131630/the-param-inverse-function-in-javascript-jquery\n// a[b]=1&a[c]=2&d[]=3&d[]=4&d[2][e]=5 <=> { a: { b: 1, c: 2 }, d: [ 3, 4, { e: 5 } ] }\nfunction parseQuery(str, opts = {}) {\n  let _querys = {};\n  decodeURIComponent(str || '').replace(/\\+/g, ' ')\n  // (optional no-capturing & )(key)=(value)\n  .replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, _name, _value) {\n    if (_name) {\n      let _path, _acc, _tmp, _ref;\n      (_path = []).unshift(_name = _name.replace(/\\[([^\\]]*)]/g, function ($0, _k) {\n        _path.push(_k);\n        return '';\n      }));\n      _ref = _querys;\n      for (let j = 0; j < _path.length - 1; j++) {\n        _acc = _path[j];\n        _tmp = _path[j + 1];\n        if (!_ref[_acc]) {\n          _ref[_acc] = _tmp === '' || /^[0-9]+$/.test(_tmp) ? [] : {};\n        }\n        _ref = _ref[_acc];\n      }\n      if (opts.boolval) {\n        // first\n        if (_value === 'true') {\n          _value = true;\n        } else if (_value === 'false') {\n          _value = false;\n        }\n      } else if (opts.intval) {\n        // skip \"true\" & \"false\"\n        if (_tmp = parseInt(_value) === _value) {\n          _value = _tmp;\n        }\n      }\n      if ((_acc = _path[_path.length - 1]) === '') {\n        _ref.push(_value);\n      } else {\n        _ref[_acc] = _value;\n      }\n    }\n  });\n  return _querys;\n}\n\nfunction stringifyQuery(query) {\n  // # http://api.jquery.com/jQuery.param\n  let _add = (key, value) => {\n    /* jshint eqnull:true */\n    _str.push(_encode(key) + '=' + (value === null || value === undefined ? '' : _encode(value)));\n    // _str.push(( key ) + \"=\" +  (value == null ? \"\" : ( value )));\n  };\n  let _str = [];\n  query || (query = {});\n  for (let x in query) {\n    buildParams(x, query[x], _add);\n  }\n  return _str.join('&').replace(r20, '+');\n}\n\nconst Query = {\n  parse: parseQuery,\n  stringify: stringifyQuery\n};\n\nfunction extend() {\n  // form jQuery & remove this\n  let options, name, src, copy, copyIsArray, clone;\n  let target = arguments[0] || {};\n  let i = 1;\n  let length = arguments.length;\n  let deep = false;\n  if (isBoolean(target)) {\n    deep = target;\n    target = arguments[i] || {};\n    i++;\n  }\n  if (typeof target !== 'object' && !isFunction(target)) {\n    target = {};\n  }\n  for (; i < length; i++) {\n    options = arguments[i];\n    /* jshint eqnull:true */\n    if (options != null) {\n      for (name in options) {\n        src = target[name];\n        copy = options[name];\n        if (target !== copy) {\n          if (deep && copy && (isObject(copy) || (copyIsArray = isArray(copy)))) {\n            if (copyIsArray) {\n              copyIsArray = false;\n              clone = src && isArray(src) ? src : [];\n            } else {\n              clone = src && isObject(src) ? src : {};\n            }\n            target[name] = extend(deep, clone, copy);\n          } else {\n            target[name] = copy;\n          }\n        }\n      }\n    }\n  }\n  return target;\n}\n\nfunction clone(val) {\n  if (isArray(val)) {\n    return extend(true, [], val);\n  } else if (isObject(val)) {\n    return extend(true, {}, val);\n  }\n  return extend(true, [], [val])[0];\n}\n\n/**\n * 对象或数组遍历\n * @param  {Array|Object} obj      要遍历的对象\n * @param  {Function} iterator 遍历函数，统一遵循值在前的模式\n * @param  {Mixed} context  上下文对象\n * @return {Mixed}          返回要遍历的对象\n *\n * @example\n * each(['a','b'], function(val, key){\n *     if (val == 'a') {\n *         console.log(val);\n *         return false;\n *     }\n * });\n */\nfunction each(obj, iterator, context) {\n  if (obj) {\n    let _length = obj.length;\n    let _key;\n    if (_length === +_length) {\n      // array like\n      for (_key = 0; _key < _length; _key++) {\n        if (iterator.call(context, obj[_key], _key) === false) {\n          return obj;\n        }\n      }\n    } else {\n      // object\n      for (_key in obj) {\n        if (obj.hasOwnProperty(_key)) {\n          if (iterator.call(context, obj[_key], _key) === false) {\n            return obj;\n          }\n        }\n      }\n    }\n  }\n  return obj;\n}\n\nfunction prop(target, key, value) {\n  Object.defineProperty(target, key, { value, writable: true, configurable: true });\n}\n\nfunction makePropFunc(target, propName) {\n  if (!target._props_) {\n    prop(target, '_props_', ['_props_']);\n  }\n  let props = target._props_;\n  return (key, value) => {\n    if (isObject(key)) {\n      for (let name in key) {\n        Object.defineProperty(target, name, { [`${propName}`]: key[name], writable: true, configurable: true });\n        props.push(name);\n      }\n    } else {\n      let descriptor = { [`${propName}`]: value, configurable: true };\n      if (propName === 'value') {\n        descriptor.writable = true;\n      }\n      Object.defineProperty(target, key, descriptor);\n      props.push(key);\n    }\n  };\n}\n\nfunction delProps(target) {\n  if (target._props_) {\n    target._props_.forEach(it => {\n      delete target[it];\n    });\n  }\n}\n\nfunction makeProp(ctx, name) {\n  if (ctx.prop) {\n    return ctx.prop;\n  }\n  let prop = makePropFunc(ctx, 'value');\n  prop.getter = makePropFunc(ctx, 'get');\n  prop.setter = makePropFunc(ctx, 'set');\n  if (isString(name) || isUndefined(name)) {\n    prop(name || 'ctx', ctx);\n  }\n  prop('prop', prop);\n  return prop;\n}\n\nfunction bindEvent(target) {\n  let _events = {};\n  prop(target, 'on', (event, fn) => {\n    (_events[event] || (_events[event] = [])).push(fn);\n  });\n\n  prop(target, 'before', (event, fn) => {\n    (_events[event] || (_events[event] = [])).unshift(fn);\n  });\n\n  prop(target, 'off', (event, fn) => {\n    if (_events[event]) {\n      let list = _events[event];\n      if (fn) {\n        let pos = list.indexOf(fn);\n        if (pos !== -1) {\n          list.splice(pos, 1);\n        }\n      } else {\n        delete _events[event];\n      }\n    }\n  });\n\n  prop(target, 'once', (event, fn) => {\n    let once = (...args) => {\n      target.off(event, fn);\n      fn(...args);\n    };\n    target.on(event, once);\n  });\n\n  prop(target, 'subscribe', (event, fn) => {\n    target.on(event, fn);\n    return () => {\n      target.off(event, fn);\n    };\n  });\n\n  prop(target, 'emit', (event, ...args) => {\n    if (_events[event]) {\n      let list = _events[event].slice();\n      let fn;\n      while (fn = list.shift()) {\n        fn(...args);\n      }\n    }\n  });\n}\n\nfunction unique(arr) {\n  if (!Array.isArray(arr)) {\n    throw new TypeError('array-unique expects an array.');\n  }\n  let len = arr.length;\n  let i = -1;\n  while (i++ < len) {\n    let j = i + 1;\n    for (; j < arr.length; ++j) {\n      if (arr[i] === arr[j]) {\n        arr.splice(j--, 1);\n      }\n    }\n  }\n  return arr;\n}\n\nfunction isPromiseLike(obj) {\n  return !!(obj && obj.then);\n}\n\nfunction uuid() {\n  return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n}\n\nfunction guid() {\n  return new Date().getTime().toString(32) + Math.floor(Math.random() * 10000000000).toString(32) + s4();\n}\n\nfunction shortId() {\n  let a = Math.random() + new Date().getTime();\n  return a.toString(16).replace('.', '');\n}\n\nfunction s4() {\n  return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n}\n\nfunction inherits(ctor, SuperCtor, useSuper) {\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(ctor.prototype, SuperCtor.prototype);\n  } else {\n    ctor.prototype = new SuperCtor();\n    ctor.prototype.constructor = SuperCtor;\n  }\n  if (useSuper) {\n    ctor.super_ = SuperCtor;\n  }\n  return ctor;\n}\n\nfunction strRepeat(s, n) {\n  return new Array(Math.max(n || 0, 0) + 1).join(s);\n}\n\nfunction noop() {}\n\nfunction splitEach(str, callback, chr, context) {\n  return str.split(chr || ' ').forEach(callback, context);\n}\n\nfunction proxy(fn, context) {\n  return function () {\n    fn.apply(context, arguments);\n  };\n}\n\nfunction formatDate(fmt, date) {\n  if (!fmt) fmt = 'yyyy-MM-dd';\n  if (!date) {\n    date = new Date();\n  } else {\n    date = new Date(date);\n  }\n  let o = {\n    'M+': date.getMonth() + 1, // 月份\n    'd+': date.getDate(), // 日\n    'h+': date.getHours(), // 小时\n    'm+': date.getMinutes(), // 分\n    's+': date.getSeconds(), // 秒\n    'q+': Math.floor((date.getMonth() + 3) / 3), // 季度\n    'S': date.getMilliseconds() // 毫秒\n  };\n  if (/(y+)/.test(fmt)) {\n    fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\n  }\n  for (let k in o) {\n    if (new RegExp('(' + k + ')').test(fmt)) {\n      fmt = fmt.replace(RegExp.$1, RegExp.$1.length === 1 ? o[k] : ('00' + o[k]).substr(('' + o[k]).length));\n    }\n  }\n  return fmt;\n}\n\nlet PROMISE = Promise;\nlet promise = {\n  resolve: PROMISE.resolve.bind(PROMISE),\n  reject: PROMISE.reject.bind(PROMISE),\n  all: PROMISE.all.bind(PROMISE),\n  then: (fn, reject) => {\n    // @NOTICE deprecated to be removed next\n    return new PROMISE(fn, reject);\n  }\n};\n\nfunction toPromise(target, methods) {\n  let dist = Object.create(null);\n  methods.forEach(name => {\n    dist[name] = (...args) => {\n      return promise.then((resolve, reject) => {\n        try {\n          return resolve(target[name].apply(target, args));\n        } catch (err) {\n          return reject(err);\n        }\n      });\n    };\n  });\n  return dist;\n}\n\nfunction next() {\n  let promise = Promise.resolve();\n  let ret = (resolve, reject) => {\n    if (resolve || reject) {\n      promise = promise.then(resolve, reject);\n    }\n    return promise;\n  };\n  return ret;\n}\n\nfunction convertCase(type, str) {\n  switch (type) {\n    case 'pascal':\n      return pascalCase(str);\n    case 'camel':\n      return camelCase(str);\n    case 'snake':\n      return snakeCase(str);\n    case 'hyphen':\n      return hyphenCase(str);\n    default:\n      return str;\n  }\n}\n\n/**\n * Camelize a hyphen-delmited string.\n */\nconst camelCaseRE = /[-_](\\w)/g;\nfunction camelCase(str) {\n  return lcfirst(str.replace(camelCaseRE, (_, c) => c ? c.toUpperCase() : ''));\n}\n\n/**\n * Capitalize a string.\n */\nfunction ucfirst(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\n/**\n * UnCapitalize a string.\n */\nfunction lcfirst(str) {\n  return str.charAt(0).toLowerCase() + str.slice(1);\n}\n\nconst replaceAZRE = /([A-Z])/g;\n\n/**\n * Hyphenate a camelCase string.\n */\nfunction hyphenCase(str) {\n  return camelCase(str).replace(replaceAZRE, '-$1').toLowerCase();\n}\n\nfunction snakeCase(str) {\n  return camelCase(str).replace(replaceAZRE, '_$1').toLowerCase();\n}\n\nfunction pascalCase(str) {\n  return ucfirst(camelCase(str));\n}\n\n/**\n * ajax 方法\n * @param  {Object}   opts 请求对象\n * {\n *     method:\"GET\",\n *     dataType:\"JSON\",\n *     headers:{},\n *     url:\"\",\n *     data:{},\n * }\n * @param  {Function} next 回调\n * @return {XMLHttpRequest}        xhr对象\n */\nfunction ajax(opts, next) {\n  let method = (opts.method || 'GET').toUpperCase();\n  let dataType = (opts.dataType || 'JSON').toUpperCase();\n  let timeout = opts.timeout;\n  /* global XMLHttpRequest */\n  let req = new XMLHttpRequest();\n  let data = null;\n  let isPost = method === 'POST';\n  let isGet = method === 'GET';\n  let isFormData = false;\n  let emit = function (err, data, headers) {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n    req.onload = req.onreadystatechange = req.onerror = null;\n    if (next) {\n      let tmp = next;\n      next = null;\n      tmp(err, data, headers);\n    }\n  };\n  if (isGet) {\n    if (opts.data) {\n      let u = parseUrl(opts.url);\n      let q = parseQuery(u.query);\n      for (let x in opts.data) {\n        q[x] = opts.data[x];\n      }\n      u.query = stringifyQuery(q);\n      opts.url = stringifyUrl(u);\n      opts.data = null;\n    }\n  } else if (isPost) {\n    data = opts.data;\n    /* global FormData */\n    if (probe.FormData) {\n      isFormData = data instanceof FormData;\n      if (!isFormData) {\n        data = stringifyQuery(data);\n      }\n    }\n  }\n  if (timeout) {\n    timeout = setTimeout(function () {\n      req.abort();\n      emit(new Error('error_timeout'));\n    }, timeout);\n  }\n  try {\n    opts.xhr && opts.xhr(req);\n    if (dataType === 'BINARY') {\n      req.responseType = 'arraybuffer';\n    }\n    req.open(method, opts.url, true);\n    if (opts.headers) {\n      for (let x in opts.headers) {\n        req.setRequestHeader(x, opts.headers[x]);\n      }\n    }\n    if (isPost && !isFormData) {\n      req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    if (opts.headerOnly) {\n      req.onreadystatechange = function () {\n        // console.log('state', req.readyState, req);\n        if (req.readyState === 2) {\n          // HEADERS_RECEIVED\n          let headers = parseHeaders(req.getAllResponseHeaders(), opts.camelHeaders);\n          req.abort();\n          emit(null, undefined, headers);\n        }\n      };\n    }\n    req.onload = function () {\n      // if(req.readyState != 4) return;\n      if ([200, 304, 206, 0].indexOf(req.status) === -1) {\n        // error\n        emit(new Error('error_status_' + req.status));\n      } else {\n        let data = req.response;\n        try {\n          if (dataType === 'JSON') {\n            data = JSON.parse(req.responseText);\n          } else if (dataType === 'XML') {\n            data = req.responseXML;\n          } else if (dataType === 'TEXT') {\n            data = req.responseText;\n          } else if (dataType === 'BINARY') {\n            let arrayBuffer = new Uint8Array(data);\n            let str = '';\n            for (let i = 0; i < arrayBuffer.length; i++) {\n              str += String.fromCharCode(arrayBuffer[i]);\n            }\n            data = str;\n          }\n        } catch (err) {\n          return emit(err);\n        }\n        emit(null, data, parseHeaders(req.getAllResponseHeaders(), opts.camelHeaders));\n      }\n    };\n    req.onerror = function (e) {\n      emit(new Error('error_network'));\n    };\n    // 进度\n    if (opts.onprogress && !opts.headerOnly) {\n      req.onloadend = req.onprogress = function (e) {\n        let info = {\n          total: e.total,\n          loaded: e.loaded,\n          percent: e.total ? Math.trunc(100 * e.loaded / e.total) : 0\n        };\n        if (e.type === 'loadend') {\n          info.percent = 100;\n        } else if (e.total === e.loaded) {\n          return;\n        }\n        if (e.total < e.loaded) {\n          info.total = info.loaded;\n        }\n        if (info.percent === 0) {\n          return;\n        }\n        opts.onprogress(info);\n      };\n    }\n    req.send(data);\n  } catch (e) {\n    emit(e);\n  }\n  return req;\n}\n\nfunction parseHeaders(str, camelHeaders) {\n  let ret = {};\n  str.trim().split('\\n').forEach(function (key) {\n    key = key.replace(/\\r/g, '');\n    let arr = key.split(': ');\n    let name = arr.shift().toLowerCase();\n    ret[camelHeaders ? camelCase(name) : name] = arr.shift();\n  });\n  return ret;\n}\n\nexports.isArray = isArray;\nexports.isBoolean = isBoolean;\nexports.isString = isString;\nexports.isFunction = isFunction;\nexports.isObject = isObject;\nexports.isNumber = isNumber;\nexports.isInteger = isInteger;\nexports.isUndefined = isUndefined;\nexports.isNull = isNull;\nexports.isNan = isNan;\nexports.isRegExp = isRegExp;\nexports.isDate = isDate;\nexports.typeValue = typeValue;\nexports.isInt = isInt;\nexports.isUint = isUint;\nexports.isAsync = isAsync;\nexports.isPromise = isPromise;\nexports.types = types;\nexports.probe = probe;\nexports.parseUrl = parseUrl;\nexports.stringifyUrl = stringifyUrl;\nexports.Url = Url;\nexports.parseQuery = parseQuery;\nexports.stringifyQuery = stringifyQuery;\nexports.Query = Query;\nexports.clone = clone;\nexports.each = each;\nexports.extend = extend;\nexports.bindEvent = bindEvent;\nexports.unique = unique;\nexports.isPromiseLike = isPromiseLike;\nexports.uuid = uuid;\nexports.guid = guid;\nexports.shortId = shortId;\nexports.inherits = inherits;\nexports.strRepeat = strRepeat;\nexports.noop = noop;\nexports.splitEach = splitEach;\nexports.proxy = proxy;\nexports.formatDate = formatDate;\nexports.promise = promise;\nexports.toPromise = toPromise;\nexports.next = next;\nexports.ajax = ajax;\nexports.convertCase = convertCase;\nexports.camelCase = camelCase;\nexports.ucfirst = ucfirst;\nexports.lcfirst = lcfirst;\nexports.hyphenCase = hyphenCase;\nexports.snakeCase = snakeCase;\nexports.pascalCase = pascalCase;\nexports.prop = prop;\nexports.delProps = delProps;\nexports.makeProp = makeProp;\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar SavSchema = _interopDefault(require('sav-schema'));\nvar savUtil = require('sav-util');\n\n// uri资源处理, 扁平化\n\n\nlet modalGroups = ['page', 'layout', 'api'];\n\nfunction normalizeUris(groups) {\n  let uris = {};\n  for (let groupName in groups) {\n    if (modalGroups.indexOf(groupName) === -1) {\n      continue;\n    }\n    let group = groups[groupName];\n    let groupRef = uris[groupName] = {\n      // name: groupName,\n      uri: groupName,\n      // isGroup: true,\n      props: group\n      // prop(groupRef, 'uri', groupName)\n      // prop(groupRef, 'props', group)\n    };savUtil.prop(groupRef, 'name', groupName);\n    savUtil.prop(groupRef, 'isGroup', true);\n    for (let modalName in group) {\n      let modal = group[modalName];\n      let modalUri = `${groupName}.${modalName}`;\n      let modalRef = uris[modalUri] = {\n        // name: modalName,\n        uri: modalUri,\n        // parent: groupRef,\n        // isModal: true,\n        props: modal\n        // prop(modalRef, 'uri', modalUri)\n        // prop(modalRef, 'props', modal)\n      };savUtil.prop(modalRef, 'name', modalName);\n      savUtil.prop(modalRef, 'isModal', true);\n      savUtil.prop(modalRef, 'parent', groupRef);\n      for (let routeName in modal.routes) {\n        let route = modal.routes[routeName];\n        let routeUri = `${modalUri}.${routeName}`;\n        let routeRef = {\n          // name: routeName,\n          uri: routeUri,\n          // parent: modalRef,\n          // isRoute: true,\n          props: route\n        };\n        uris[routeUri] = routeRef;\n        // prop(routeRef, 'uri', routeUri)\n        // prop(routeRef, 'props', route)\n        savUtil.prop(routeRef, 'name', routeName);\n        savUtil.prop(routeRef, 'parent', modalRef);\n        savUtil.prop(routeRef, 'isRoute', true);\n      }\n    }\n  }\n  savUtil.prop(groups, 'uris', uris);\n  return uris;\n}\n\nvar index$1 = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n/**\n * Expose `pathToRegexp`.\n */\nvar index = pathToRegexp;\nvar parse_1 = parse;\nvar compile_1 = compile;\nvar tokensToFunction_1 = tokensToFunction;\nvar tokensToRegExp_1 = tokensToRegExp;\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\", undefined]\n  // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined, undefined]\n  // \"/*\"            => [\"/\", undefined, undefined, undefined, undefined, \"*\"]\n  '([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?|(\\\\*))'\n].join('|'), 'g');\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = [];\n  var key = 0;\n  var index = 0;\n  var path = '';\n  var defaultDelimiter = options && options.delimiter || '/';\n  var res;\n\n  while ((res = PATH_REGEXP.exec(str)) != null) {\n    var m = res[0];\n    var escaped = res[1];\n    var offset = res.index;\n    path += str.slice(index, offset);\n    index = offset + m.length;\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1];\n      continue\n    }\n\n    var next = str[index];\n    var prefix = res[2];\n    var name = res[3];\n    var capture = res[4];\n    var group = res[5];\n    var modifier = res[6];\n    var asterisk = res[7];\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path);\n      path = '';\n    }\n\n    var partial = prefix != null && next != null && next !== prefix;\n    var repeat = modifier === '+' || modifier === '*';\n    var optional = modifier === '?' || modifier === '*';\n    var delimiter = res[2] || defaultDelimiter;\n    var pattern = capture || group;\n\n    tokens.push({\n      name: name || key++,\n      prefix: prefix || '',\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      asterisk: !!asterisk,\n      pattern: pattern ? escapeGroup(pattern) : (asterisk ? '.*' : '[^' + escapeString(delimiter) + ']+?')\n    });\n  }\n\n  // Match any characters still remaining.\n  if (index < str.length) {\n    path += str.substr(index);\n  }\n\n  // If the path exists, push it onto the end.\n  if (path) {\n    tokens.push(path);\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options))\n}\n\n/**\n * Prettier encoding of URI path segments.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeURIComponentPretty (str) {\n  return encodeURI(str).replace(/[\\/?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Encode the asterisk parameter. Similar to `pretty`, but allows slashes.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeAsterisk (str) {\n  return encodeURI(str).replace(/[?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length);\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$');\n    }\n  }\n\n  return function (obj, opts) {\n    var path = '';\n    var data = obj || {};\n    var options = opts || {};\n    var encode = options.pretty ? encodeURIComponentPretty : encodeURIComponent;\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i];\n\n      if (typeof token === 'string') {\n        path += token;\n\n        continue\n      }\n\n      var value = data[token.name];\n      var segment;\n\n      if (value == null) {\n        if (token.optional) {\n          // Prepend partial segment prefixes.\n          if (token.partial) {\n            path += token.prefix;\n          }\n\n          continue\n        } else {\n          throw new TypeError('Expected \"' + token.name + '\" to be defined')\n        }\n      }\n\n      if (index$1(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but received `' + JSON.stringify(value) + '`')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) {\n            continue\n          } else {\n            throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n          }\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j]);\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\", but received `' + JSON.stringify(segment) + '`')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment;\n        }\n\n        continue\n      }\n\n      segment = token.asterisk ? encodeAsterisk(value) : encode(value);\n\n      if (!matches[i].test(segment)) {\n        throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n      }\n\n      path += token.prefix + segment;\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|\\/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1')\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {!RegExp} re\n * @param  {Array}   keys\n * @return {!RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys;\n  return re\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {!Array}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g);\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        asterisk: false,\n        pattern: null\n      });\n    }\n  }\n\n  return attachKeys(path, keys)\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array}   keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = [];\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source);\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options));\n\n  return attachKeys(regexp, keys)\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {!Array}  keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}          tokens\n * @param  {(Array|Object)=} keys\n * @param  {Object=}         options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  if (!index$1(keys)) {\n    options = /** @type {!Object} */ (keys || options);\n    keys = [];\n  }\n\n  options = options || {};\n\n  var strict = options.strict;\n  var end = options.end !== false;\n  var route = '';\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n\n    if (typeof token === 'string') {\n      route += escapeString(token);\n    } else {\n      var prefix = escapeString(token.prefix);\n      var capture = '(?:' + token.pattern + ')';\n\n      keys.push(token);\n\n      if (token.repeat) {\n        capture += '(?:' + prefix + capture + ')*';\n      }\n\n      if (token.optional) {\n        if (!token.partial) {\n          capture = '(?:' + prefix + '(' + capture + '))?';\n        } else {\n          capture = prefix + '(' + capture + ')?';\n        }\n      } else {\n        capture = prefix + '(' + capture + ')';\n      }\n\n      route += capture;\n    }\n  }\n\n  var delimiter = escapeString(options.delimiter || '/');\n  var endsWithDelimiter = route.slice(-delimiter.length) === delimiter;\n\n  // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n  if (!strict) {\n    route = (endsWithDelimiter ? route.slice(0, -delimiter.length) : route) + '(?:' + delimiter + '(?=$))?';\n  }\n\n  if (end) {\n    route += '$';\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithDelimiter ? '' : '(?=' + delimiter + '|$)';\n  }\n\n  return attachKeys(new RegExp('^' + route, flags(options)), keys)\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {(Array|Object)=}       keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (!index$1(keys)) {\n    options = /** @type {!Object} */ (keys || options);\n    keys = [];\n  }\n\n  options = options || {};\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, /** @type {!Array} */ (keys))\n  }\n\n  if (index$1(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), /** @type {!Array} */ (keys), options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), /** @type {!Array} */ (keys), options)\n}\n\nindex.parse = parse_1;\nindex.compile = compile_1;\nindex.tokensToFunction = tokensToFunction_1;\nindex.tokensToRegExp = tokensToRegExp_1;\n\nlet proto = Error.prototype;\n\nproto.toJSON = function () {\n  return Object.assign({\n    message: this.message,\n    type: this.constructor.name,\n    stack: this.stack\n  }, this);\n};\n\n\n\n// 功能尚未实现\n\n\n// 没有匹配到路由\n\n\n// 参数错误\n\n\n// 调用错误\n\n// 路由中间件\n\n\nfunction normalizeRoutes({ uris }) {\n  let routes = [];\n  for (let uri in uris) {\n    let ret = uris[uri];\n    if (ret.isModal) {\n      routes.push(getModalRoute(ret));\n    } else if (ret.isRoute) {\n      createRoute(ret);\n    }\n  }\n  return routes;\n}\n\nconst caseType = 'camel';\nconst prefix = '/';\n\nfunction getDefaultMethod(modalGroup) {\n  return modalGroup === 'api' ? 'POST' : 'GET';\n}\n\nfunction createRoute(ref) {\n  if (!ref.route) {\n    let { name, props, uri, parent } = ref;\n    let parentRoute = getModalRoute(parent);\n    let path = convertPath(props.path, caseType, name);\n    let isRelative = path[0] !== '/';\n    if (isRelative) {\n      // 相对路由\n      path = normalPath(parentRoute.path + (path ? '/' + path : ''));\n    }\n    let savRoute = {\n      uri,\n      path,\n      method: props.method || getDefaultMethod(parent.parent.name)\n    };\n    if (isRelative) {\n      parentRoute.relatives.push(savRoute);\n    } else {\n      parentRoute.absolutes.push(savRoute);\n    }\n    savUtil.prop(savRoute, 'regexp', index.compile(path));\n    savUtil.prop(ref, 'route', savRoute);\n  }\n}\n\nfunction getModalRoute(ref) {\n  if (!ref.route) {\n    let { name, props, uri } = ref;\n    let routePrefix = props.prefix || '';\n    if (routePrefix.length) {\n      routePrefix = normalPath(routePrefix + '/');\n    }\n    let route = {\n      uri,\n      path: normalPath(prefix + routePrefix + convertPath(props.path, caseType, name)),\n      relatives: [],\n      absolutes: []\n    };\n    savUtil.prop(ref, 'route', route);\n  }\n  return ref.route;\n}\n\nfunction convertPath(path, caseType, name) {\n  if (!savUtil.isString(path)) {\n    path = savUtil.convertCase(caseType, name);\n  }\n  return path;\n}\n\nfunction normalPath(path) {\n  return path.replace(/\\/\\//g, '/');\n}\n\n// Schema中间件\n\n\nfunction normalizeSchema(payload, schema, isExport) {\n  for (let name in payload.schema) {\n    payload.schema[name].name = name;\n    schema.declare(payload.schema[name]);\n  }\n  let { uris } = payload;\n  for (let uri in uris) {\n    let ret = uris[uri];\n    if (ret.isRoute) {\n      // 提取路由中的schema定义\n      extractSchema(ret, 'request', schema, isExport);\n      extractSchema(ret, 'response', schema, isExport);\n    }\n  }\n}\n\nconst shortMaps = {\n  request: 'Req',\n  response: 'Res'\n};\n\nfunction extractSchema(ref, type, schema, isExport) {\n  let value = ref.props[type];\n  let structName = savUtil.pascalCase((shortMaps[type] + '_' + ref.parent.name + '_' + ref.name).replace(/\\./g, '_')\n  // let structName = pascalCase((shortMaps[type] + '_' + uri.replace('page.', '')).replace(/\\./g, '_'))\n  );if (savUtil.isString(value)) {\n    structName = value;\n  } else if (savUtil.isObject(value)) {\n    if (value.name) {\n      structName = value.name;\n    } else {\n      value.name = structName;\n    }\n    schema.declare(value);\n  }\n  ref[type] = structName;\n  if (isExport) {\n    ref[`${type}Schema`] = schema[structName];\n  }\n}\n\nfunction promiseNext() {\n  let promise = Promise.resolve();\n  let ret = (resolve, reject) => {\n    if (resolve || reject) {\n      promise = promise.then(resolve, reject);\n    }\n    return promise;\n  };\n  return ret;\n}\n\nfunction toJSON() {\n  return Object.assign({\n    message: this.message,\n    type: this.constructor.name,\n    stack: this.stack\n  }, this);\n}\n\nfunction normalizeFetch(contract, flux) {\n  flux.prop('fetchRoute', fetchRoute.bind(flux));\n  let { actions, fetchs } = createActions(contract, flux);\n  flux.prop('fetch', fetchs);\n  flux.declare({\n    actions: Object.assign({\n      fetchPage\n    }, actions)\n  });\n  flux.on('fetch', fetchFromMockState.bind(flux));\n}\n\nfunction fetchFromMockState(ctx) {\n  let rule = ctx.rule;\n  if (!rule) {\n    return;\n  }\n  let mockState = this.opt('mockState');\n  if (mockState) {\n    if (!rule.responseSchema) {\n      throw new Error(`uri ${rule.uri} has no responseSchma.`);\n    }\n    let mockData;\n    if (this.contract.mock) {\n      let mocks = this.contract.mock[rule.response];\n      if (mocks) {\n        mockData = mocks[0];\n        ctx.mockData = mockData;\n      }\n    }\n    ctx.fetch = () => {\n      return Promise.resolve().then(() => {\n        let data;\n        if (ctx.mockData) {\n          data = rule.responseSchema.create(ctx.mockData.props);\n        } else {\n          data = rule.responseSchema.createResponse();\n        }\n        return {\n          data\n        };\n      });\n    };\n  }\n}\n\nfunction fetchPage({ flux, updateState }, data) {\n  return flux.fetchRoute(data).then(({ data }) => {\n    let newData = Object.assign({ error: {} }, data);\n    return updateState(newData);\n  }, err => {\n    let error = toJSON.call(err);\n    return updateState({ error }).then(() => {\n      throw error;\n    });\n  });\n}\n\nfunction fetchUri({ flux, updateState }, data) {\n  return flux.fetchRoute(data).then(({ data }) => {\n    let newData = Object.assign({ error: {} }, data);\n    return updateState(newData);\n  }, err => {\n    let error = toJSON.call(err);\n    return updateState({ error }).then(() => {\n      throw error;\n    });\n  });\n}\n\nfunction createActions(contract, flux) {\n  let fetchs = {};\n  let actions = {};\n  let { uris } = contract;\n  for (let uri in uris) {\n    let ret = uris[uri];\n    if (ret.isRoute) {\n      let { props } = ret;\n      let isPage = ret.isPage = uri.indexOf('page.') === 0;\n      let { method } = props;\n      if (!method) {\n        method = isPage ? 'GET' : 'POST';\n      }\n      ret.method = method;\n      let actionName = ret.actionName = method.toLowerCase() + savUtil.pascalCase(`${uri}`.replace(/\\./g, '_'));\n      fetchs[actionName] = data => {\n        return fetchUri(flux, Object.assign({ uri }, data));\n      };\n      actions[actionName] = ({ fetch }, data) => {\n        return fetch[actionName](data);\n      };\n    }\n  }\n  return { fetchs, actions };\n}\n\nfunction fetchRoute(opts) {\n  // {uri, url, params, data} + route\n  let ctx = Object.assign({\n    headers: {},\n    rule: this.contract.uris[opts.uri]\n  }, opts);\n  let next = promiseNext();\n  try {\n    if (ctx.rule) {\n      let { props, route } = ctx.rule;\n      if (props.timeout) {\n        ctx.timeout = props.timeout;\n      }\n      if (!ctx.method) {\n        ctx.method = route.method;\n      }\n      if (!ctx.url) {\n        ctx.url = route.regexp(ctx.params);\n      }\n    }\n    // url 合并\n    if (!/^http(s)?:/.test(ctx.url) || !/^\\/\\//.test(ctx.url)) {\n      // 指定协议或使用 //\n      ctx.url = this.opt('baseUrl', '') + ctx.url;\n    }\n    ctx.fetch = ajaxFetch;\n    this.emit('fetch', ctx, next // prepare\n    );next(() => {\n      return ctx.fetch(ctx).then(res => {\n        if (!this.opt('mockState') && ctx.rule) {\n          let rule = ctx.rule;\n          if (rule.responseSchema) {\n            try {\n              rule.responseSchema.check(res.data);\n            } catch (err) {\n              if (this.opt('checkSlient')) {\n                this.emit('error', err);\n              } else {\n                throw err;\n              }\n            }\n          }\n        }\n        return res;\n      });\n    });\n  } catch (err) {\n    next(() => {\n      throw err;\n    });\n  }\n  return next();\n}\n\nfunction ajaxFetch(ctx) {\n  return new Promise((resolve, reject) => {\n    savUtil.ajax(ctx, (err, data, headers) => {\n      if (err) {\n        reject(err);\n      }\n      resolve({ data, headers, ctx });\n    });\n  });\n}\n\nfunction normalizeVue(contract, router, flux) {\n  let { uris } = contract;\n  let nameUris = {};\n  for (let uri in uris) {\n    let ret = uris[uri];\n    if (ret.isRoute) {\n      let name = savUtil.pascalCase(`${ret.parent.name}_${ret.name}`);\n      nameUris[name] = uri;\n    }\n  }\n  router.beforeEach((to, from, next) => {\n    if (!to.name) {\n      return next();\n    }\n    let uri = nameUris[to.name];\n    if (!uri) {\n      return next();\n    }\n    return flux.dispatch('fetchPage', {\n      uri,\n      url: to.fullPath,\n      params: to.params,\n      query: to.query\n    }).then(next);\n  });\n  contract.nameUris = nameUris;\n}\n\nfunction normalizeState(contract, flux) {\n  let state = {};\n  let { uris } = contract;\n  let dismiss = [];\n  for (let uri in uris) {\n    let ret = uris[uri];\n    if (ret.isPage && ret.isRoute) {\n      if (ret.responseSchema) {\n        Object.assign(state, ret.responseSchema.createResponse());\n      } else {\n        dismiss.push({ uri, schema: ret.response });\n      }\n      if (ret.props.reqstate) {\n        if (ret.requestSchema) {\n          Object.assign(state, ret.requestSchema.createRequest());\n        } else {\n          dismiss.push({ uri, schema: ret.request });\n        }\n      }\n    }\n  }\n  if (dismiss.length) {\n    flux.emit('schemaRequired', dismiss);\n  }\n  flux.declare({ state });\n}\n\nfunction resolveContract({ contract, schema, flux, router, opts }) {\n  schema || (schema = SavSchema);\n  if (opts) {\n    Object.assign(flux.opts, opts);\n  }\n  flux.prop('contract', contract);\n  flux.prop('schema', schema);\n  if (!savUtil.isString(flux.opts.baseUrl)) {\n    flux.opts.baseUrl = router.options.baseUrl || '';\n  }\n  normalizeUris(contract);\n  normalizeRoutes(contract);\n  normalizeVue(contract, router, flux);\n  normalizeSchema(contract, schema, true);\n  normalizeFetch(contract, flux, router);\n  return schema.ready().then(() => {\n    if (typeof window !== 'undefined') {\n      if (window.INIT_STATE) {\n        flux.replaceState(window.INIT_STATE);\n      }\n    }\n    normalizeState(contract, flux);\n  });\n}\n\nexports.resolveContract = resolveContract;\n","// @NOTICE This file is generated by sav-cli.\n\n/* eslint quotes: [\"off\"] */\nmodule.exports = {\n  routes: {\n    tabs: {\n      method: \"GET\",\n      title: \"标签页\"\n    },\n    buttons: {\n      method: \"GET\",\n      title: \"按钮\"\n    }\n  }\n}\n","// @NOTICE This file is generated by sav-cli.\n\n/* eslint quotes: [\"off\"] */\nmodule.exports = {\n  path: \"\",\n  routes: {\n    index: {\n      method: \"GET\",\n      path: \"\",\n      title: \"仪表板\"\n    }\n  }\n}\n","// @NOTICE This file is generated by sav-cli.\n\n/* eslint quotes: [\"off\"] */\nmodule.exports = {\n  routes: {\n    login: {\n      method: \"GET\",\n      title: \"登录页面\"\n    },\n    register: {\n      method: \"GET\",\n      title: \"注册页面\"\n    }\n  }\n}\n","// @NOTICE This file is generated by sav-cli.\n\nmodule.exports = {\n  Element: require('./Element'),\n  Home: require('./Home'),\n  Page: require('./Page')\n}\n","// @NOTICE This file is generated by sav-cli.\n\n/* eslint quotes: [\"off\"] */\nmodule.exports = {\n  ResHomeIndex: {\n    props: {}\n  }\n}\n","// @NOTICE This file is generated by sav-cli.\n\n/* eslint quotes: [\"off\"] */\nmodule.exports = {\n  ResPageLogin: {\n    props: {\n      username: \"String\",\n      password: \"String\"\n    },\n    res: {\n      username: \"jetiny\",\n      password: \"123465\"\n    }\n  },\n  ResPageRegister: {\n    props: {\n      username: \"String\",\n      nickname: \"String\",\n      password: \"String\",\n      confirmPassword: \"String\"\n    },\n    res: {\n      username: \"jetiny\",\n      nickname: \"helo\",\n      password: \"123465\",\n      confirmPassword: \"123456\"\n    }\n  }\n}\n","// @NOTICE This file is generated by sav-cli.\n\nmodule.exports = Object.assign({},\n  require('./home'),\n  require('./page')\n)\n","// @NOTICE This file is generated by sav-cli.\n\nmodule.exports = {\n  page: require('./page'),\n  schema: require('./schema')\n}\n","// @NOTICE This file is generated by sav-cli.\n\n// 程序入口文件\n// 宏定义采用注释的方式, 需要打包工具根据环境变量来匹配\n// 区块宏 IS_DEV     是否开发环境\n// 区块宏 IS_PROD    是否生产环境\n// 区块宏 IS_MOCK    是否mock环境\n// 区块宏 IS_LOCAL   是否本地环境\n\nimport {Vue, VueRouter, Flux, FluxVue} from './VueFlux.js'\nimport routes from './routes.js'\nimport App from './App.vue'\nimport {resolveContract} from 'sav'\n// @TODO 这里替换为真正的contract\nimport contract from '../contract'\n\n// 定义路由\n\nlet routerMode\n\n// #if IS_LOCAL\nrouterMode = 'hash'\n// #endif\n\nif (!routerMode) {\n  routerMode = 'history'\n}\n\nlet router = new VueRouter(Object.assign({\n  mode: routerMode,\n  routes,\n  linkActiveClass: 'is-active'\n}))\n\nlet flux = new Flux({\n// #if IS_DEV\n  noProxy: true, // 开发模式下不使用Proxy方便调用dispatch\n// #endif\n// #if IS_MOCK\n  mockState: true,\n// #endif\n  strict: true\n})\n\n// flux服务在这里嵌入\n// flux.declare(...)\n\n// #if IS_DEV\n// 打印一下未定义schema的接口\nflux.on('schemaRequired', (lists) => {\n  console.warn('schemaRequired', lists)\n})\n// #endif\n\nlet ret = {}\n\nexport default ret\n\nresolveContract({contract, flux, router}).then(() => {\n// 或者flux服务在这里嵌入\n// flux.declare(...)\n\n  let vm = new Vue(Object.assign({vaf: new FluxVue({flux}), router}, App))\n  vm.$mount('#app')\n// #if IS_DEV\n  Object.assign(ret, {\n    router,\n    vm,\n    flux\n  })\n// #endif\n})\n"],"names":["Object","defineProperty","exports","value","toStringType","val","prototype","toString","call","slice","isArray","Array","isBoolean","arg","isString","isFunction","isObject","isNumber","isNaN","isInteger","parseInt","isUndefined","undefined","isNull","isNan","isRegExp","isDate","typeValue","isInt","isUint","types","defined","probe","Map","Proxy","MessageChannel","localStorage","XMLHttpRequest","MutationObserver","FormData","window","document","REKeys","URL_RE","parseUrl","str","_uri","_m","exec","_i","length","stringifyUrl","uri","host","protocol","user","password","port","path","query","anchor","Url","_encode","encodeURIComponent","r20","rbracket","buildParams","prefix","obj","add","forEach","v","i","test","name","parseQuery","opts","_querys","replace","$0","_name","_value","_path","_acc","_tmp","_ref","unshift","_k","push","j","boolval","intval","stringifyQuery","_add","key","_str","x","join","Query","extend","arguments$1","arguments","options","src","copy","copyIsArray","clone","target","deep","each","iterator","context","_length","_key","hasOwnProperty","unique","arr","TypeError","len","splice","isPromiseLike","then","uuid","s4","guid","Date","getTime","Math","floor","random","substring","inherits","ctor","superCtor","useSuper","setPrototypeOf","super_","prop","strRepeat","s","n","max","noop","splitEach","callback","chr","split","proxy","fn","apply","formatDate","fmt","date","o","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","RegExp","$1","getFullYear","substr","k","bindEvent","_events","event","list","pos","indexOf","once","args","off","on","shift","PROMISE","Promise","promise","resolve","bind","reject","all","ajax","next","method","toUpperCase","dataType","timeout","req","data","isPost","isGet","isFormData","emit","err","headers","onload","onreadystatechange","onerror","tmp","u","url","q","setTimeout","abort","Error","xhr","responseType","open","x$1","setRequestHeader","headerOnly","readyState","parseHeaders","getAllResponseHeaders","camelHeaders","status","response","JSON","parse","responseText","responseXML","arrayBuffer","Uint8Array","String","fromCharCode","e","onprogress","onloadend","info","total","loaded","trunc","type","percent","send","ret","trim","toLowerCase","camelCase","a","Flux","strict","flux","initProp","initUtil","savUtil","initPromise","initCloneThen","initState","initCommit","initDispatch","initProxy","initDeclare","get","initUse","ref","use","plugin","defaultVal","cloneThen","clone$$1","state","set","newState","stateStr","stringify","cloneState","changedState","keys","map","updateState","commit","payload","mutations","entry","update","noProxy","proxyApi","dispatch","action","actions","proxys","_","__clone","newData","declare","mod","mutation","states","proxyFunction","channel","maps","idx","port2","start","onmessage","ref_data","port1","postMessage","error","resetStoreVM","Vue","vaf","oldVm","vm","watch","silent","config","isVmGetterMode","updates","loop","util","defineReactive","vmGetterMaps","vmIt","_computedWatchers","$forceUpdate","key$1","nextTick","$destroy","FluxVue","mixinActions","injects","getState","mixin","mapActions","concat","registerVmGetters","getters","_getters","destroyVmGetters","install","vue","beforeCreate","this$1","$options","$flux","parent","methods","computed","assign","getterMaps","mapGetters","__vafMaps","beforeDestroy","res","mappedGetter","mappedAction","message","normalizeMap","FluxRedux","watchUpdate","watchReplace","subscribe","Boolean","el","focus","directives","it","directive","components","component","VueRouter","SavComponents","Element","ElementTabs","ElementButtons","Home","HomeIndex","Page","PageLogin","PageRegister","SchemaTypeError","SchemaEnumError","SchemaRequiredError","field","SchemaCheckedError","rule","SchemaNoRuleError","SchemaInvalidRegexpError","regexp","defaultTypes","registerType","applyTypes","schema","defaultCheckes","registerCheck","func","applyCheckValue","rules","SCHEMA_TYPE","SCHEMA_ENUM","SCHEMA_STURCT","objectAssign","excludes","isExclude","SchemaEnum","props","schemaType","enums","toArray","keyMaps","values","valueMaps","item","addEnum","export","isStrict","hasValue","default","create","SchemaType","SchemaField","struct","delay","subRef","subType","inPlace","checkField","checkSubField","l","subVal","validate","checkValue","required","nullable","checkes","check","pass","updateField","root","mat","match","refs","optional","createField","input","parseFieldStr","inputType","propCache","clone$1","strs","lcword","parseValue","parseFloat","SchemaStruct","fields","addRef","prop$$1","addField","isObj","extract","Schema","createSchemaType","_promise","queue","promise$$1","queues","stringVal","boolVal","numberVal","Number","arrayVal","objectVal","defaultSchema","gt","arg1","gte","lt","lte","$in","argv","nin","lgt","lgte","llt","llte","regexpMaps","re","toRegExp","COMPLEX_BEGIN","COMPLEX_REGEX","parseWithFlags","fullPattern","pattern","flags","defaultCheck","index","isAsync","constructor","isPromise","writable","configurable","makePropFunc","propName","_props_","descriptor","delProps","makeProp","ctx","getter","setter","shortId","SuperCtor","toPromise","dist","convertCase","pascalCase","snakeCase","hyphenCase","camelCaseRE","lcfirst","c","ucfirst","charAt","replaceAZRE","_interopDefault","ex","SavSchema","require","modalGroups","normalizeUris","groups","uris","groupName","group","groupRef","modalName","modal","modalUri","modalRef","routeName","routes","route","routeUri","routeRef","index$1","pathToRegexp","parse_1","compile_1","compile","tokensToFunction_1","tokensToFunction","tokensToRegExp_1","tokensToRegExp","PATH_REGEXP","tokens","defaultDelimiter","delimiter","m","escaped","offset","capture","modifier","asterisk","partial","repeat","escapeGroup","escapeString","encodeURIComponentPretty","encodeURI","charCodeAt","encodeAsterisk","matches","encode","pretty","token","segment","attachKeys","sensitive","regexpToRegexp","source","arrayToRegexp","parts","stringToRegexp","end","endsWithDelimiter","proto","toJSON","stack","normalizeRoutes","isModal","getModalRoute","isRoute","caseType","getDefaultMethod","modalGroup","createRoute","parentRoute","convertPath","isRelative","normalPath","savRoute","relatives","absolutes","routePrefix","normalizeSchema","isExport","shortMaps","extractSchema","structName","promiseNext","normalizeFetch","contract","fetchRoute","fetchs","createActions","fetchFromMockState","mockState","opt","responseSchema","mockData","mock","mocks","fetch","createResponse","fetchPage","fetchUri","isPage","actionName","params","ajaxFetch","normalizeVue","router","nameUris","beforeEach","to","from","fullPath","normalizeState","dismiss","reqstate","requestSchema","createRequest","request","resolveContract","baseUrl","ready","INIT_STATE","replaceState","module","routerMode","lists","warn","App","$mount"],"mappings":"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"}